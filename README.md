# ç¯®çƒå’Œè¿åŠ¨å‘˜æ£€æµ‹æ£€æµ‹ç³»ç»Ÿæºç åˆ†äº«
 # [ä¸€æ¡é¾™æ•™å­¦YOLOV8æ ‡æ³¨å¥½çš„æ•°æ®é›†ä¸€é”®è®­ç»ƒ_70+å…¨å¥—æ”¹è¿›åˆ›æ–°ç‚¹å‘åˆŠ_Webå‰ç«¯å±•ç¤º]

### 1.ç ”ç©¶èƒŒæ™¯ä¸æ„ä¹‰

é¡¹ç›®å‚è€ƒ[AAAI Association for the Advancement of Artificial Intelligence](https://gitee.com/qunshansj/projects)

é¡¹ç›®æ¥æº[AACV Association for the Advancement of Computer Vision](https://gitee.com/qunmasj/projects)

ç ”ç©¶èƒŒæ™¯ä¸æ„ä¹‰

éšç€äººå·¥æ™ºèƒ½æŠ€æœ¯çš„è¿…çŒ›å‘å±•ï¼Œè®¡ç®—æœºè§†è§‰åœ¨å„ä¸ªé¢†åŸŸçš„åº”ç”¨æ—¥ç›Šå¹¿æ³›ï¼Œå°¤å…¶æ˜¯åœ¨ä½“è‚²é¢†åŸŸï¼Œè¿åŠ¨å‘˜å’Œæ¯”èµ›åœºæ™¯çš„è‡ªåŠ¨è¯†åˆ«ä¸åˆ†æå·²æˆä¸ºç ”ç©¶çš„çƒ­ç‚¹ã€‚ç¯®çƒä½œä¸ºå…¨çƒèŒƒå›´å†…å¹¿å—æ¬¢è¿çš„è¿åŠ¨ï¼Œå…¶æ¯”èµ›è¿‡ç¨‹ä¸­çš„åŠ¨æ€å˜åŒ–å’Œå¤æ‚åœºæ™¯ä¸ºè§†è§‰è¯†åˆ«æŠ€æœ¯æå‡ºäº†æ›´é«˜çš„è¦æ±‚ã€‚ä¼ ç»Ÿçš„ç¯®çƒæ¯”èµ›åˆ†ææ–¹æ³•å¾€å¾€ä¾èµ–äºäººå·¥è§‚å¯Ÿå’Œæ‰‹åŠ¨è®°å½•ï¼Œä¸ä»…æ•ˆç‡ä½ä¸‹ï¼Œè€Œä¸”å®¹æ˜“å—åˆ°ä¸»è§‚å› ç´ çš„å½±å“ã€‚å› æ­¤ï¼ŒåŸºäºæ·±åº¦å­¦ä¹ çš„è‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿåº”è¿è€Œç”Ÿï¼Œèƒ½å¤Ÿåœ¨å®æ—¶æ€§å’Œå‡†ç¡®æ€§ä¸Šæ˜¾è‘—æå‡ç¯®çƒæ¯”èµ›çš„åˆ†æèƒ½åŠ›ã€‚

åœ¨ä¼—å¤šçš„ç›®æ ‡æ£€æµ‹ç®—æ³•ä¸­ï¼ŒYOLOï¼ˆYou Only Look Onceï¼‰ç³»åˆ—å› å…¶é«˜æ•ˆçš„å®æ—¶æ£€æµ‹èƒ½åŠ›è€Œå¤‡å—å…³æ³¨ã€‚YOLOv8ä½œä¸ºè¯¥ç³»åˆ—çš„æœ€æ–°ç‰ˆæœ¬ï¼Œå…·å¤‡äº†æ›´å¼ºçš„ç‰¹å¾æå–èƒ½åŠ›å’Œæ›´å¿«çš„æ¨ç†é€Ÿåº¦ï¼Œèƒ½å¤Ÿåœ¨å¤æ‚çš„è¿åŠ¨åœºæ™¯ä¸­å¿«é€Ÿå‡†ç¡®åœ°è¯†åˆ«ç›®æ ‡ã€‚é’ˆå¯¹ç¯®çƒæ¯”èµ›çš„ç‰¹ç‚¹ï¼Œæœ¬æ–‡æå‡ºäº†ä¸€ç§åŸºäºæ”¹è¿›YOLOv8çš„ç¯®çƒå’Œè¿åŠ¨å‘˜æ£€æµ‹ç³»ç»Ÿï¼Œæ—¨åœ¨æå‡ç¯®çƒæ¯”èµ›ä¸­çƒã€ç¯®ç­å’Œè¿åŠ¨å‘˜çš„æ£€æµ‹ç²¾åº¦ä¸æ•ˆç‡ã€‚

æœ¬ç ”ç©¶æ‰€ä½¿ç”¨çš„æ•°æ®é›†åŒ…å«4900å¼ å›¾åƒï¼Œæ¶µç›–äº†ä¸‰ç±»ç›®æ ‡ï¼šç¯®çƒã€ç¯®ç­å’Œè¿åŠ¨å‘˜ã€‚è¿™ä¸€æ•°æ®é›†çš„æ„å»ºä¸ä»…ä¸ºæ¨¡å‹çš„è®­ç»ƒæä¾›äº†ä¸°å¯Œçš„æ ·æœ¬ï¼Œä¹Ÿä¸ºåç»­çš„æ€§èƒ½è¯„ä¼°å¥ å®šäº†åŸºç¡€ã€‚é€šè¿‡å¯¹è¿™äº›å›¾åƒçš„æ·±å…¥åˆ†æï¼Œç ”ç©¶è€…èƒ½å¤Ÿæå–å‡ºä¸åŒç±»åˆ«ç›®æ ‡çš„ç‰¹å¾ä¿¡æ¯ï¼Œä»è€Œä¼˜åŒ–YOLOv8çš„ç½‘ç»œç»“æ„ä¸å‚æ•°è®¾ç½®ï¼Œä»¥é€‚åº”ç¯®çƒæ¯”èµ›çš„åŠ¨æ€ç¯å¢ƒã€‚

æœ¬ç ”ç©¶çš„æ„ä¹‰åœ¨äºï¼Œé¦–å…ˆï¼Œé€šè¿‡æ”¹è¿›YOLOv8æ¨¡å‹ï¼Œèƒ½å¤Ÿå®ç°å¯¹ç¯®çƒæ¯”èµ›ä¸­å„ç±»ç›®æ ‡çš„é«˜æ•ˆæ£€æµ‹ï¼Œè¿›è€Œä¸ºæ•™ç»ƒå‘˜å’Œè¿åŠ¨å‘˜æä¾›å®æ—¶çš„æ•°æ®æ”¯æŒï¼Œå¸®åŠ©ä»–ä»¬æ›´å¥½åœ°åˆ†ææ¯”èµ›æƒ…å†µï¼Œåˆ¶å®šæˆ˜æœ¯ç­–ç•¥ã€‚å…¶æ¬¡ï¼ŒåŸºäºæ­¤æ£€æµ‹ç³»ç»Ÿï¼Œæœªæ¥å¯ä»¥è¿›ä¸€æ­¥æ‹“å±•è‡³å…¶ä»–ä½“è‚²é¡¹ç›®çš„åº”ç”¨ï¼Œå½¢æˆä¸€å¥—é€šç”¨çš„è¿åŠ¨åˆ†æå¹³å°ã€‚æ­¤å¤–ï¼Œéšç€æ•°æ®é›†çš„ä¸æ–­æ‰©å±•å’Œæ¨¡å‹çš„æŒç»­ä¼˜åŒ–ï¼Œç³»ç»Ÿçš„æ£€æµ‹ç²¾åº¦å’Œé²æ£’æ€§å°†å¾—åˆ°è¿›ä¸€æ­¥æå‡ï¼Œä¸ºä½“è‚²ç§‘å­¦ç ”ç©¶æä¾›æ›´ä¸ºå¯é çš„æŠ€æœ¯æ‰‹æ®µã€‚

æœ€åï¼Œæœ¬æ–‡çš„ç ”ç©¶ä¸ä»…å…·æœ‰é‡è¦çš„ç†è®ºä»·å€¼ï¼Œè¿˜å…·æœ‰å¹¿æ³›çš„å®é™…åº”ç”¨å‰æ™¯ã€‚é€šè¿‡æ„å»ºé«˜æ•ˆçš„ç¯®çƒå’Œè¿åŠ¨å‘˜æ£€æµ‹ç³»ç»Ÿï¼Œå¯ä»¥æ¨åŠ¨ä½“è‚²æ•°æ®åˆ†æçš„æ™ºèƒ½åŒ–è¿›ç¨‹ï¼Œæå‡æ¯”èµ›çš„è§‚èµæ€§å’Œç«æŠ€æ°´å¹³ã€‚åŒæ—¶ï¼Œè¯¥ç³»ç»Ÿçš„æˆåŠŸåº”ç”¨ä¹Ÿå°†ä¸ºå…¶ä»–é¢†åŸŸçš„ç›®æ ‡æ£€æµ‹æä¾›å€Ÿé‰´ï¼Œä¿ƒè¿›è®¡ç®—æœºè§†è§‰æŠ€æœ¯çš„è¿›ä¸€æ­¥å‘å±•ã€‚å› æ­¤ï¼Œæœ¬ç ”ç©¶åœ¨æ¨åŠ¨ç¯®çƒè¿åŠ¨å‘å±•ã€æå‡ä½“è‚²èµ›äº‹åˆ†æèƒ½åŠ›ä»¥åŠä¿ƒè¿›ç›¸å…³æŠ€æœ¯è¿›æ­¥ç­‰æ–¹é¢å…·æœ‰é‡è¦çš„ç°å®æ„ä¹‰å’Œæ·±è¿œçš„å½±å“ã€‚

### 2.å›¾ç‰‡æ¼”ç¤º

![1.png](1.png)

![2.png](2.png)

![3.png](3.png)

##### æ³¨æ„ï¼šç”±äºæ­¤åšå®¢ç¼–è¾‘è¾ƒæ—©ï¼Œä¸Šé¢â€œ2.å›¾ç‰‡æ¼”ç¤ºâ€å’Œâ€œ3.è§†é¢‘æ¼”ç¤ºâ€å±•ç¤ºçš„ç³»ç»Ÿå›¾ç‰‡æˆ–è€…è§†é¢‘å¯èƒ½ä¸ºè€ç‰ˆæœ¬ï¼Œæ–°ç‰ˆæœ¬åœ¨è€ç‰ˆæœ¬çš„åŸºç¡€ä¸Šå‡çº§å¦‚ä¸‹ï¼šï¼ˆå®é™…æ•ˆæœä»¥å‡çº§çš„æ–°ç‰ˆæœ¬ä¸ºå‡†ï¼‰

  ï¼ˆ1ï¼‰é€‚é…äº†YOLOV8çš„â€œç›®æ ‡æ£€æµ‹â€æ¨¡å‹å’Œâ€œå®ä¾‹åˆ†å‰²â€æ¨¡å‹ï¼Œé€šè¿‡åŠ è½½ç›¸åº”çš„æƒé‡ï¼ˆ.ptï¼‰æ–‡ä»¶å³å¯è‡ªé€‚åº”åŠ è½½æ¨¡å‹ã€‚

  ï¼ˆ2ï¼‰æ”¯æŒâ€œå›¾ç‰‡è¯†åˆ«â€ã€â€œè§†é¢‘è¯†åˆ«â€ã€â€œæ‘„åƒå¤´å®æ—¶è¯†åˆ«â€ä¸‰ç§è¯†åˆ«æ¨¡å¼ã€‚

  ï¼ˆ3ï¼‰æ”¯æŒâ€œå›¾ç‰‡è¯†åˆ«â€ã€â€œè§†é¢‘è¯†åˆ«â€ã€â€œæ‘„åƒå¤´å®æ—¶è¯†åˆ«â€ä¸‰ç§è¯†åˆ«ç»“æœä¿å­˜å¯¼å‡ºï¼Œè§£å†³æ‰‹åŠ¨å¯¼å‡ºï¼ˆå®¹æ˜“å¡é¡¿å‡ºç°çˆ†å†…å­˜ï¼‰å­˜åœ¨çš„é—®é¢˜ï¼Œè¯†åˆ«å®Œè‡ªåŠ¨ä¿å­˜ç»“æœå¹¶å¯¼å‡ºåˆ°tempDirä¸­ã€‚

  ï¼ˆ4ï¼‰æ”¯æŒWebå‰ç«¯ç³»ç»Ÿä¸­çš„æ ‡é¢˜ã€èƒŒæ™¯å›¾ç­‰è‡ªå®šä¹‰ä¿®æ”¹ï¼Œåé¢æä¾›ä¿®æ”¹æ•™ç¨‹ã€‚

  å¦å¤–æœ¬é¡¹ç›®æä¾›è®­ç»ƒçš„æ•°æ®é›†å’Œè®­ç»ƒæ•™ç¨‹,æš‚ä¸æä¾›æƒé‡æ–‡ä»¶ï¼ˆbest.ptï¼‰,éœ€è¦æ‚¨æŒ‰ç…§æ•™ç¨‹è¿›è¡Œè®­ç»ƒåå®ç°å›¾ç‰‡æ¼”ç¤ºå’ŒWebå‰ç«¯ç•Œé¢æ¼”ç¤ºçš„æ•ˆæœã€‚

### 3.è§†é¢‘æ¼”ç¤º

[3.1 è§†é¢‘æ¼”ç¤º](https://www.bilibili.com/video/BV1x64Be5EbY/)

### 4.æ•°æ®é›†ä¿¡æ¯å±•ç¤º

##### 4.1 æœ¬é¡¹ç›®æ•°æ®é›†è¯¦ç»†æ•°æ®ï¼ˆç±»åˆ«æ•°ï¼†ç±»åˆ«åï¼‰

nc: 3
names: ['ball', 'basket', 'person']


##### 4.2 æœ¬é¡¹ç›®æ•°æ®é›†ä¿¡æ¯ä»‹ç»

æ•°æ®é›†ä¿¡æ¯å±•ç¤º

åœ¨æœ¬ç ”ç©¶ä¸­ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†åä¸ºâ€œBasketball detectionâ€çš„æ•°æ®é›†ï¼Œä»¥æ”¹è¿›YOLOv8åœ¨ç¯®çƒåœºæ™¯ä¸­çš„è¿åŠ¨å‘˜å’Œç¯®çƒæ£€æµ‹èƒ½åŠ›ã€‚è¯¥æ•°æ®é›†ä¸“é—¨è®¾è®¡ç”¨äºæ»¡è¶³ç¯®çƒè¿åŠ¨ç›¸å…³çš„è§†è§‰è¯†åˆ«éœ€æ±‚ï¼ŒåŒ…å«äº†ä¸°å¯Œçš„å›¾åƒæ•°æ®ï¼Œèƒ½å¤Ÿæœ‰æ•ˆæ”¯æŒæ·±åº¦å­¦ä¹ æ¨¡å‹çš„è®­ç»ƒä¸ä¼˜åŒ–ã€‚æ•°æ®é›†çš„ç±»åˆ«æ•°é‡ä¸ºä¸‰ï¼Œå…·ä½“ç±»åˆ«åŒ…æ‹¬â€œballâ€ï¼ˆç¯®çƒï¼‰ã€â€œbasketâ€ï¼ˆç¯®çƒæ¶ï¼‰å’Œâ€œpersonâ€ï¼ˆè¿åŠ¨å‘˜ï¼‰ï¼Œè¿™äº›ç±»åˆ«çš„é€‰æ‹©æ—¨åœ¨æ¶µç›–ç¯®çƒæ¯”èµ›ä¸­æœ€ä¸ºå…³é”®çš„å…ƒç´ ï¼Œä»¥ä¾¿æ¨¡å‹èƒ½å¤Ÿå‡†ç¡®è¯†åˆ«å’Œå®šä½è¿™äº›å¯¹è±¡ã€‚

â€œBasketball detectionâ€æ•°æ®é›†çš„æ„å»ºè¿‡ç¨‹æ³¨é‡å¤šæ ·æ€§å’Œä»£è¡¨æ€§ï¼Œç¡®ä¿æ‰€æ”¶é›†çš„å›¾åƒèƒ½å¤Ÿåæ˜ å‡ºä¸åŒåœºæ™¯ä¸‹çš„ç¯®çƒè¿åŠ¨ã€‚ä¾‹å¦‚ï¼Œæ•°æ®é›†ä¸­åŒ…å«äº†åœ¨ä¸åŒå…‰ç…§æ¡ä»¶ã€ä¸åŒåœºåœ°ç¯å¢ƒå’Œä¸åŒæ¯”èµ›é˜¶æ®µä¸‹æ‹æ‘„çš„å›¾åƒã€‚è¿™ç§å¤šæ ·æ€§ä¸ä»…å¢å¼ºäº†æ•°æ®é›†çš„å¹¿æ³›é€‚ç”¨æ€§ï¼Œä¹Ÿæé«˜äº†æ¨¡å‹åœ¨å®é™…åº”ç”¨ä¸­çš„é²æ£’æ€§ã€‚é€šè¿‡å¯¹å„ç§è§’åº¦å’Œè·ç¦»çš„æ‹æ‘„ï¼Œæ•°æ®é›†ç¡®ä¿äº†è¿åŠ¨å‘˜ã€ç¯®çƒå’Œç¯®çƒæ¶åœ¨ä¸åŒèƒŒæ™¯ä¸‹çš„æ¸…æ™°å¯è¾¨ï¼Œä»è€Œä¸ºYOLOv8çš„è®­ç»ƒæä¾›äº†ä¸°å¯Œçš„æ ·æœ¬ã€‚

åœ¨æ•°æ®æ ‡æ³¨æ–¹é¢ï¼Œæ‰€æœ‰å›¾åƒå‡ç»è¿‡ä¸“ä¸šæ ‡æ³¨å›¢é˜Ÿçš„ä»”ç»†å¤„ç†ï¼Œç¡®ä¿æ¯ä¸ªç±»åˆ«çš„å¯¹è±¡éƒ½è¢«å‡†ç¡®æ¡†å®šã€‚æ¯ä¸ªå›¾åƒä¸­çš„ç¯®çƒã€ç¯®çƒæ¶å’Œè¿åŠ¨å‘˜éƒ½è¢«æ ‡æ³¨ä¸ºçŸ©å½¢æ¡†ï¼Œå¹¶é™„æœ‰ç›¸åº”çš„ç±»åˆ«æ ‡ç­¾ã€‚è¿™ç§ç²¾ç¡®çš„æ ‡æ³¨æ–¹å¼ä¸ºYOLOv8æ¨¡å‹çš„è®­ç»ƒæä¾›äº†é«˜è´¨é‡çš„ç›‘ç£ä¿¡å·ï¼Œä½¿å¾—æ¨¡å‹èƒ½å¤Ÿå­¦ä¹ åˆ°æ¯ä¸ªç±»åˆ«çš„ç‰¹å¾ï¼Œä»è€Œæé«˜æ£€æµ‹çš„å‡†ç¡®æ€§å’Œæ•ˆç‡ã€‚

æ­¤å¤–ï¼Œæ•°æ®é›†è¿˜è€ƒè™‘åˆ°äº†ç¯®çƒè¿åŠ¨çš„åŠ¨æ€ç‰¹æ€§ï¼ŒåŒ…å«äº†è¿åŠ¨å‘˜åœ¨æ¯”èµ›ä¸­ä¸åŒåŠ¨ä½œçš„å›¾åƒï¼Œå¦‚æŠ•ç¯®ã€è¿çƒå’Œé˜²å®ˆç­‰ã€‚è¿™ç§åŠ¨æ€åœºæ™¯çš„è¦†ç›–ä½¿å¾—æ¨¡å‹èƒ½å¤Ÿæ›´å¥½åœ°ç†è§£å’Œé¢„æµ‹è¿åŠ¨å‘˜çš„è¡Œä¸ºï¼Œä»è€Œåœ¨å®æ—¶æ£€æµ‹ä¸­è¡¨ç°å‡ºè‰²ã€‚é€šè¿‡å¯¹è¿åŠ¨å‘˜ä¸ç¯®çƒã€ç¯®çƒæ¶ä¹‹é—´çš„ç›¸äº’å…³ç³»è¿›è¡Œæ·±å…¥å­¦ä¹ ï¼Œæ¨¡å‹å°†èƒ½å¤Ÿåœ¨å¤æ‚çš„æ¯”èµ›ç¯å¢ƒä¸­ï¼Œå¿«é€Ÿä¸”å‡†ç¡®åœ°è¯†åˆ«å‡ºå…³é”®å¯¹è±¡ã€‚

ä¸ºäº†è¿›ä¸€æ­¥å¢å¼ºæ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ï¼Œæ•°æ®é›†ä¸­è¿˜åŒ…å«äº†ä¸€äº›æŒ‘æˆ˜æ€§åœºæ™¯ï¼Œä¾‹å¦‚äººç¾¤å¯†é›†çš„æ¯”èµ›ç¯å¢ƒã€ä¸åŒé¢œè‰²å’Œæ¬¾å¼çš„ç¯®çƒä»¥åŠå¤šç§ä¸åŒçš„ç¯®çƒæ¶è®¾è®¡ã€‚è¿™äº›å¤šæ ·åŒ–çš„åœºæ™¯ä¸ä»…æå‡äº†æ•°æ®é›†çš„å¤æ‚æ€§ï¼Œä¹Ÿä¸ºæ¨¡å‹çš„è®­ç»ƒæä¾›äº†æ›´å¤šçš„æŒ‘æˆ˜ï¼Œä¿ƒä½¿å…¶åœ¨é¢å¯¹å®é™…åº”ç”¨æ—¶èƒ½å¤Ÿå±•ç°å‡ºæ›´å¼ºçš„é€‚åº”æ€§ã€‚

æ€»ä¹‹ï¼Œâ€œBasketball detectionâ€æ•°æ®é›†é€šè¿‡ç²¾å¿ƒçš„è®¾è®¡å’Œä¸°å¯Œçš„æ ·æœ¬ï¼Œä¸ºæ”¹è¿›YOLOv8çš„ç¯®çƒå’Œè¿åŠ¨å‘˜æ£€æµ‹ç³»ç»Ÿæä¾›äº†åšå®çš„åŸºç¡€ã€‚å…¶å¤šæ ·åŒ–çš„ç±»åˆ«å’Œå¤æ‚çš„åœºæ™¯è®¾ç½®ï¼Œç¡®ä¿äº†æ¨¡å‹åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­èƒ½å¤Ÿè·å¾—å…¨é¢çš„å­¦ä¹ ä½“éªŒï¼Œä»è€Œåœ¨å®é™…åº”ç”¨ä¸­å®ç°é«˜æ•ˆã€å‡†ç¡®çš„æ£€æµ‹èƒ½åŠ›ã€‚éšç€è¯¥æ•°æ®é›†çš„åº”ç”¨ï¼Œæˆ‘ä»¬æœŸå¾…èƒ½å¤Ÿæ¨åŠ¨ç¯®çƒè¿åŠ¨è§†è§‰è¯†åˆ«æŠ€æœ¯çš„å‘å±•ï¼Œä¸ºç›¸å…³é¢†åŸŸçš„ç ”ç©¶å’Œåº”ç”¨æä¾›æ–°çš„æ€è·¯å’Œè§£å†³æ–¹æ¡ˆã€‚

![4.png](4.png)

![5.png](5.png)

![6.png](6.png)

![7.png](7.png)

![8.png](8.png)

### 5.å…¨å¥—é¡¹ç›®ç¯å¢ƒéƒ¨ç½²è§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰

[5.1 ç¯å¢ƒéƒ¨ç½²æ•™ç¨‹é“¾æ¥ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰](https://www.ixigua.com/7404473917358506534?logTag=c807d0cbc21c0ef59de5)




[5.2 å®‰è£…Pythonè™šæ‹Ÿç¯å¢ƒåˆ›å»ºå’Œä¾èµ–åº“å®‰è£…è§†é¢‘æ•™ç¨‹é“¾æ¥ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰](https://www.ixigua.com/7404474678003106304?logTag=1f1041108cd1f708b01a)

### 6.æ‰‹æŠŠæ‰‹YOLOV8è®­ç»ƒè§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€å°ç™½æœ‰æ‰‹å°±èƒ½å­¦ä¼šï¼‰

[6.1 æ‰‹æŠŠæ‰‹YOLOV8è®­ç»ƒè§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€å°ç™½æœ‰æ‰‹å°±èƒ½å­¦ä¼šï¼‰](https://www.ixigua.com/7404477157818401292?logTag=d31a2dfd1983c9668658)

### 7.70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹ä»£ç åŠ è½½è°ƒå‚è§†é¢‘æ•™ç¨‹ï¼ˆä¸€é”®åŠ è½½å†™å¥½çš„æ”¹è¿›æ¨¡å‹çš„é…ç½®æ–‡ä»¶ï¼‰

[7.1 70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹ä»£ç åŠ è½½è°ƒå‚è§†é¢‘æ•™ç¨‹ï¼ˆä¸€é”®åŠ è½½å†™å¥½çš„æ”¹è¿›æ¨¡å‹çš„é…ç½®æ–‡ä»¶ï¼‰](https://www.ixigua.com/7404478314661806627?logTag=29066f8288e3f4eea3a4)

### 8.70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹åŸç†è®²è§£ï¼ˆéç§‘ç­ä¹Ÿå¯ä»¥è½»æ¾å†™åˆŠå‘åˆŠï¼ŒV10ç‰ˆæœ¬æ­£åœ¨ç§‘ç ”å¾…æ›´æ–°ï¼‰

ç”±äºç¯‡å¹…é™åˆ¶ï¼Œæ¯ä¸ªåˆ›æ–°ç‚¹çš„å…·ä½“åŸç†è®²è§£å°±ä¸ä¸€ä¸€å±•å¼€ï¼Œå…·ä½“è§ä¸‹åˆ—ç½‘å€ä¸­çš„åˆ›æ–°ç‚¹å¯¹åº”å­é¡¹ç›®çš„æŠ€æœ¯åŸç†åšå®¢ç½‘å€ã€Blogã€‘ï¼š

![9.png](9.png)

[8.1 70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹åŸç†è®²è§£é“¾æ¥](https://gitee.com/qunmasj/good)

### 9.ç³»ç»ŸåŠŸèƒ½å±•ç¤ºï¼ˆæ£€æµ‹å¯¹è±¡ä¸ºä¸¾ä¾‹ï¼Œå®é™…å†…å®¹ä»¥æœ¬é¡¹ç›®æ•°æ®é›†ä¸ºå‡†ï¼‰

å›¾9.1.ç³»ç»Ÿæ”¯æŒæ£€æµ‹ç»“æœè¡¨æ ¼æ˜¾ç¤º

  å›¾9.2.ç³»ç»Ÿæ”¯æŒç½®ä¿¡åº¦å’ŒIOUé˜ˆå€¼æ‰‹åŠ¨è°ƒèŠ‚

  å›¾9.3.ç³»ç»Ÿæ”¯æŒè‡ªå®šä¹‰åŠ è½½æƒé‡æ–‡ä»¶best.pt(éœ€è¦ä½ é€šè¿‡æ­¥éª¤5ä¸­è®­ç»ƒè·å¾—)

  å›¾9.4.ç³»ç»Ÿæ”¯æŒæ‘„åƒå¤´å®æ—¶è¯†åˆ«

  å›¾9.5.ç³»ç»Ÿæ”¯æŒå›¾ç‰‡è¯†åˆ«

  å›¾9.6.ç³»ç»Ÿæ”¯æŒè§†é¢‘è¯†åˆ«

  å›¾9.7.ç³»ç»Ÿæ”¯æŒè¯†åˆ«ç»“æœæ–‡ä»¶è‡ªåŠ¨ä¿å­˜

  å›¾9.8.ç³»ç»Ÿæ”¯æŒExcelå¯¼å‡ºæ£€æµ‹ç»“æœæ•°æ®

![10.png](10.png)

![11.png](11.png)

![12.png](12.png)

![13.png](13.png)

![14.png](14.png)

![15.png](15.png)

![16.png](16.png)

![17.png](17.png)

### 10.åŸå§‹YOLOV8ç®—æ³•åŸç†

åŸå§‹YOLOv8ç®—æ³•åŸç†

YOLOv8ï¼Œä½œä¸ºYOLOç³»åˆ—ä¸­çš„æœ€æ–°ç‰ˆæœ¬ï¼Œæ ‡å¿—ç€ç›®æ ‡æ£€æµ‹é¢†åŸŸçš„ä¸€æ¬¡é‡è¦è¿›æ­¥ã€‚è‡ª2015å¹´YOLOæ¨¡å‹é¦–æ¬¡æå‡ºä»¥æ¥ï¼ŒYOLOç³»åˆ—ç»å†äº†å¤šä¸ªç‰ˆæœ¬çš„è¿­ä»£ï¼Œæ¯ä¸€æ¬¡æ›´æ–°éƒ½åœ¨æ¨ç†é€Ÿåº¦ã€æ£€æµ‹ç²¾åº¦å’Œæ¨¡å‹æ˜“ç”¨æ€§ç­‰æ–¹é¢è¿›è¡Œäº†æ˜¾è‘—ä¼˜åŒ–ã€‚YOLOv8çš„å‘å¸ƒï¼Œè¿›ä¸€æ­¥å·©å›ºäº†å…¶åœ¨å®æ—¶ç›®æ ‡æ£€æµ‹ä¸­çš„é¢†å…ˆåœ°ä½ï¼Œæˆä¸ºä¸šç•Œå¹¿æ³›åº”ç”¨çš„æ ‡å‡†æ¨¡å‹ä¹‹ä¸€ã€‚

YOLOv8çš„ç½‘ç»œç»“æ„ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼šBackboneã€Neckå’ŒHeadã€‚Backboneéƒ¨åˆ†è´Ÿè´£ç‰¹å¾æå–ï¼Œé‡‡ç”¨äº†æ›´æ·±çš„å·ç§¯ç¥ç»ç½‘ç»œç»“æ„ï¼Œä»¥æ•æ‰å›¾åƒä¸­çš„ä¸°å¯Œç‰¹å¾ä¿¡æ¯ã€‚ç›¸è¾ƒäºå‰å‡ ä»£æ¨¡å‹ï¼ŒYOLOv8çš„Backboneè®¾è®¡æ›´åŠ å¤æ‚ï¼Œå±‚æ•°çš„å¢åŠ ä½¿å¾—ç½‘ç»œèƒ½å¤Ÿå­¦ä¹ åˆ°æ›´å…·è¾¨è¯†åº¦çš„ç‰¹å¾ï¼Œä»è€Œæå‡äº†ç›®æ ‡æ£€æµ‹çš„ç²¾åº¦ã€‚é€šè¿‡å¼•å…¥å¤šå°ºåº¦è®­ç»ƒå’Œæµ‹è¯•ï¼ŒYOLOv8èƒ½å¤Ÿåœ¨ä¸åŒå°ºå¯¸çš„ç›®æ ‡ä¸Šä¿æŒè‰¯å¥½çš„æ£€æµ‹æ€§èƒ½ï¼Œè¿™ä¸€ç‰¹æ€§ä½¿å¾—å…¶åœ¨å¤„ç†å¤æ‚åœºæ™¯æ—¶è¡¨ç°å°¤ä¸ºå‡ºè‰²ã€‚

Neckéƒ¨åˆ†åˆ™è´Ÿè´£ç‰¹å¾èåˆï¼Œå®ƒé€šè¿‡ç‰¹å¾é‡‘å­—å¡”ç½‘ç»œï¼ˆFPNï¼‰å°†æ¥è‡ªä¸åŒå±‚æ¬¡çš„ç‰¹å¾è¿›è¡Œæ•´åˆï¼Œå½¢æˆå¤šå±‚æ¬¡çš„ç‰¹å¾è¡¨ç¤ºã€‚è¿™ç§ç‰¹å¾èåˆçš„æ–¹å¼ï¼Œèƒ½å¤Ÿæœ‰æ•ˆæå‡æ¨¡å‹å¯¹ä¸åŒå°ºåº¦ç›®æ ‡çš„æ£€æµ‹èƒ½åŠ›ï¼Œä½¿å¾—YOLOv8åœ¨å¤„ç†å¤§å°ä¸ä¸€çš„ç›®æ ‡æ—¶ï¼Œä¾ç„¶èƒ½å¤Ÿä¿æŒé«˜æ•ˆçš„æ£€æµ‹ç²¾åº¦ã€‚Neckçš„è®¾è®¡ç†å¿µåœ¨äºå……åˆ†åˆ©ç”¨Backboneæå–çš„ç‰¹å¾ï¼Œå¢å¼ºæ¨¡å‹å¯¹ä¸Šä¸‹æ–‡ä¿¡æ¯çš„ç†è§£ï¼Œä»è€Œæå‡ç›®æ ‡æ£€æµ‹çš„æ•´ä½“æ€§èƒ½ã€‚

Headéƒ¨åˆ†æ˜¯YOLOv8çš„æ ¸å¿ƒï¼Œå®ƒè´Ÿè´£å°†ç»è¿‡Neckå¤„ç†åçš„ç‰¹å¾è¿›è¡Œè§£ç ï¼Œè¾“å‡ºæœ€ç»ˆçš„æ£€æµ‹ç»“æœã€‚YOLOv8é‡‡ç”¨äº†ä¸‰ä¸ªè§£è€¦å¤´ï¼Œåˆ†åˆ«ç”¨äºè¾¹ç•Œæ¡†å›å½’ã€ç±»åˆ«é¢„æµ‹å’Œç›®æ ‡ç½®ä¿¡åº¦è¯„ä¼°ã€‚è¿™ç§è§£è€¦è®¾è®¡çš„ä¼˜åŠ¿åœ¨äºï¼Œæ¨¡å‹å¯ä»¥ç‹¬ç«‹åœ°ä¼˜åŒ–æ¯ä¸ªä»»åŠ¡ï¼Œé¿å…äº†ä¸åŒä»»åŠ¡ä¹‹é—´çš„å¹²æ‰°ï¼Œä»è€Œæå‡äº†æ£€æµ‹çš„å‡†ç¡®æ€§å’Œç¨³å®šæ€§ã€‚æ­¤å¤–ï¼ŒYOLOv8è¿˜å¼•å…¥äº†æ”¹è¿›çš„æ ‡ç­¾åˆ†é…ç­–ç•¥å’ŒæŸå¤±å‡½æ•°è®¾è®¡ï¼Œè¿›ä¸€æ­¥æé«˜äº†è®­ç»ƒæ•ˆç‡å’Œæ¨¡å‹çš„æ”¶æ•›é€Ÿåº¦ã€‚

åœ¨æ¨¡å‹è®¾ç½®æ–¹é¢ï¼ŒYOLOv8æä¾›äº†å¤šä¸ªå¯è°ƒå‚æ•°ï¼Œå¦‚depth_factorã€width_factorå’Œratioï¼Œè¿™äº›å‚æ•°çš„è®¾ç½®å¯ä»¥æ ¹æ®å…·ä½“åº”ç”¨éœ€æ±‚çµæ´»è°ƒæ•´ï¼Œä»è€Œå®ç°æ¨¡å‹çš„æ·±åº¦å’Œå®½åº¦çš„åŠ¨æ€å˜åŒ–ã€‚é€šè¿‡è°ƒæ•´è¿™äº›å‚æ•°ï¼Œç”¨æˆ·å¯ä»¥åœ¨ç²¾åº¦å’Œæ¨ç†é€Ÿåº¦ä¹‹é—´æ‰¾åˆ°æœ€ä½³å¹³è¡¡ï¼Œæ»¡è¶³ä¸åŒåœºæ™¯ä¸‹çš„éœ€æ±‚ã€‚ä¾‹å¦‚ï¼Œdepth_factorçš„å¢å¤§å¯ä»¥ä½¿å¾—æ¨¡å‹æ›´æ·±ï¼Œé€‚åˆäºå¤æ‚åœºæ™¯çš„é«˜ç²¾åº¦æ£€æµ‹ï¼Œè€Œwidth_factorçš„è°ƒæ•´åˆ™å¯ä»¥åœ¨ä¿æŒç²¾åº¦çš„åŒæ—¶æå‡æ¨ç†é€Ÿåº¦ï¼Œé€‚åˆäºå®æ—¶æ€§è¦æ±‚è¾ƒé«˜çš„åº”ç”¨ã€‚

YOLOv8çš„è®¾è®¡ä¸ä»…å€Ÿé‰´äº†å‰å‡ ä»£YOLOæ¨¡å‹çš„æˆåŠŸç»éªŒï¼Œè¿˜èåˆäº†YOLOXã€YOLOv6ã€YOLOv7å’ŒPPYOLOEç­‰å¤šç§å…ˆè¿›æŠ€æœ¯ï¼Œå½¢æˆäº†ä¸€ç§æ›´ä¸ºå…¨é¢çš„ç›®æ ‡æ£€æµ‹è§£å†³æ–¹æ¡ˆã€‚å…¶åœ¨ç²¾åº¦å’Œé€Ÿåº¦ä¸Šçš„æ˜¾è‘—æå‡ï¼Œä½¿å¾—YOLOv8åœ¨æ™ºèƒ½ç›‘æ§ã€è‡ªåŠ¨é©¾é©¶ã€äººè„¸è¯†åˆ«ç­‰å¤šç§åº”ç”¨åœºæ™¯ä¸­è¡¨ç°ä¼˜å¼‚ã€‚ä¸SSDç­‰ä¼ ç»Ÿç›®æ ‡æ£€æµ‹ç®—æ³•ç›¸æ¯”ï¼ŒYOLOv8åœ¨ç²¾åº¦å’Œå¸§ç‡ä¸Šå‡æœ‰æ˜¾è‘—æå‡ï¼Œå……åˆ†å±•ç°äº†å…¶åœ¨å®æ—¶ç›®æ ‡æ£€æµ‹é¢†åŸŸçš„å¼ºå¤§èƒ½åŠ›ã€‚

ç»¼ä¸Šæ‰€è¿°ï¼ŒYOLOv8é€šè¿‡å…¶ç‹¬ç‰¹çš„ç½‘ç»œç»“æ„è®¾è®¡å’Œçµæ´»çš„æ¨¡å‹è®¾ç½®ï¼Œä¸ä»…æé«˜äº†ç›®æ ‡æ£€æµ‹çš„ç²¾åº¦å’Œé€Ÿåº¦ï¼Œè¿˜å¢å¼ºäº†æ¨¡å‹çš„é€‚åº”æ€§å’Œå¯ç”¨æ€§ã€‚éšç€YOLOv8çš„å¹¿æ³›åº”ç”¨ï¼Œç›®æ ‡æ£€æµ‹æŠ€æœ¯å°†åœ¨å„ä¸ªé¢†åŸŸè¿æ¥æ–°çš„å‘å±•æœºé‡ï¼Œæ¨åŠ¨æ™ºèƒ½åŒ–åº”ç”¨çš„è¿›ä¸€æ­¥æ™®åŠã€‚YOLOv8çš„æˆåŠŸï¼Œä¸ä»…æ˜¯ç®—æ³•è®¾è®¡çš„èƒœåˆ©ï¼Œæ›´æ˜¯è®¡ç®—æœºè§†è§‰æŠ€æœ¯ä¸æ–­è¿›æ­¥çš„ä½“ç°ï¼Œé¢„ç¤ºç€æœªæ¥åœ¨ç›®æ ‡æ£€æµ‹é¢†åŸŸå°†æœ‰æ›´å¤šåˆ›æ–°å’Œçªç ´ã€‚

![18.png](18.png)

### 11.é¡¹ç›®æ ¸å¿ƒæºç è®²è§£ï¼ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒçœ‹ä¸æ‡‚ä»£ç é€»è¾‘ï¼‰

#### 11.1 70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\utils\callbacks\base.py

ä»¥ä¸‹æ˜¯ç»è¿‡ç²¾ç®€å’Œæ³¨é‡Šçš„æ ¸å¿ƒä»£ç éƒ¨åˆ†ï¼Œä¸»è¦åŒ…æ‹¬å›è°ƒå‡½æ•°çš„å®šä¹‰å’Œé»˜è®¤å›è°ƒçš„è·å–åŠŸèƒ½ã€‚

```python
# Ultralytics YOLO ğŸš€, AGPL-3.0 license
"""åŸºç¡€å›è°ƒå‡½æ•°å®šä¹‰æ¨¡å—ã€‚"""

from collections import defaultdict
from copy import deepcopy

# è®­ç»ƒå™¨å›è°ƒå‡½æ•°å®šä¹‰ -----------------------------------------------------------------------------------------------

def on_train_start(trainer):
    """è®­ç»ƒå¼€å§‹æ—¶è°ƒç”¨çš„å›è°ƒå‡½æ•°ã€‚"""
    pass

def on_train_epoch_end(trainer):
    """æ¯ä¸ªè®­ç»ƒå‘¨æœŸç»“æŸæ—¶è°ƒç”¨çš„å›è°ƒå‡½æ•°ã€‚"""
    pass

def on_train_batch_end(trainer):
    """æ¯ä¸ªè®­ç»ƒæ‰¹æ¬¡ç»“æŸæ—¶è°ƒç”¨çš„å›è°ƒå‡½æ•°ã€‚"""
    pass

def on_train_end(trainer):
    """è®­ç»ƒç»“æŸæ—¶è°ƒç”¨çš„å›è°ƒå‡½æ•°ã€‚"""
    pass

# é»˜è®¤å›è°ƒå‡½æ•°å­—å…¸ -----------------------------------------------------------------------------------------------

default_callbacks = {
    'on_train_start': [on_train_start],            # è®­ç»ƒå¼€å§‹
    'on_train_epoch_end': [on_train_epoch_end],    # è®­ç»ƒå‘¨æœŸç»“æŸ
    'on_train_batch_end': [on_train_batch_end],    # è®­ç»ƒæ‰¹æ¬¡ç»“æŸ
    'on_train_end': [on_train_end],                # è®­ç»ƒç»“æŸ
}

def get_default_callbacks():
    """
    è¿”å›ä¸€ä¸ªåŒ…å«é»˜è®¤å›è°ƒå‡½æ•°çš„å­—å…¸å‰¯æœ¬ï¼Œé»˜è®¤å€¼ä¸ºåˆ—è¡¨ã€‚

    è¿”å›:
        (defaultdict): ä¸€ä¸ª defaultdictï¼ŒåŒ…å« default_callbacks çš„é”®å’Œç©ºåˆ—è¡¨ä½œä¸ºé»˜è®¤å€¼ã€‚
    """
    return defaultdict(list, deepcopy(default_callbacks))

def add_integration_callbacks(instance):
    """
    å°†æ¥è‡ªä¸åŒæ¥æºçš„é›†æˆå›è°ƒæ·»åŠ åˆ°å®ä¾‹çš„å›è°ƒä¸­ã€‚

    å‚æ•°:
        instance (Trainer, Predictor, Validator, Exporter): ä¸€ä¸ªå…·æœ‰ 'callbacks' å±æ€§çš„å¯¹è±¡ï¼Œè¯¥å±æ€§æ˜¯ä¸€ä¸ªå›è°ƒåˆ—è¡¨çš„å­—å…¸ã€‚
    """
    # åŠ è½½ HUB å›è°ƒ
    from .hub import callbacks as hub_cb
    callbacks_list = [hub_cb]

    # åŠ è½½è®­ç»ƒå›è°ƒ
    if 'Trainer' in instance.__class__.__name__:
        from .clearml import callbacks as clear_cb
        from .comet import callbacks as comet_cb
        from .dvc import callbacks as dvc_cb
        from .mlflow import callbacks as mlflow_cb
        from .neptune import callbacks as neptune_cb
        from .raytune import callbacks as tune_cb
        from .tensorboard import callbacks as tb_cb
        from .wb import callbacks as wb_cb
        callbacks_list.extend([clear_cb, comet_cb, dvc_cb, mlflow_cb, neptune_cb, tune_cb, tb_cb, wb_cb])

    # å°†å›è°ƒæ·»åŠ åˆ°å›è°ƒå­—å…¸ä¸­
    for callbacks in callbacks_list:
        for k, v in callbacks.items():
            if v not in instance.callbacks[k]:
                instance.callbacks[k].append(v)
```

### ä»£ç è¯´æ˜ï¼š
1. **å›è°ƒå‡½æ•°**ï¼šå®šä¹‰äº†ä¸€äº›æ ¸å¿ƒçš„å›è°ƒå‡½æ•°ï¼Œå¦‚ `on_train_start`ã€`on_train_epoch_end`ã€`on_train_batch_end` å’Œ `on_train_end`ï¼Œè¿™äº›å‡½æ•°åœ¨è®­ç»ƒçš„ä¸åŒé˜¶æ®µè¢«è°ƒç”¨ï¼Œä»¥ä¾¿è¿›è¡Œç‰¹å®šçš„æ“ä½œæˆ–è®°å½•ã€‚

2. **é»˜è®¤å›è°ƒå­—å…¸**ï¼š`default_callbacks` å­—å…¸ä¸­å­˜å‚¨äº†é»˜è®¤çš„å›è°ƒå‡½æ•°ï¼Œæ–¹ä¾¿åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­è°ƒç”¨ã€‚

3. **è·å–é»˜è®¤å›è°ƒ**ï¼š`get_default_callbacks` å‡½æ•°è¿”å›ä¸€ä¸ªåŒ…å«é»˜è®¤å›è°ƒçš„å­—å…¸å‰¯æœ¬ï¼Œç¡®ä¿åœ¨ä½¿ç”¨æ—¶ä¸ä¼šä¿®æ”¹åŸå§‹çš„å›è°ƒè®¾ç½®ã€‚

4. **æ·»åŠ é›†æˆå›è°ƒ**ï¼š`add_integration_callbacks` å‡½æ•°ç”¨äºå°†æ¥è‡ªä¸åŒåº“çš„å›è°ƒé›†æˆåˆ°å½“å‰å®ä¾‹çš„å›è°ƒå­—å…¸ä¸­ï¼Œä»¥ä¾¿æ‰©å±•åŠŸèƒ½å’Œçµæ´»æ€§ã€‚

è¿™ä¸ªæ–‡ä»¶æ˜¯Ultralytics YOLOé¡¹ç›®ä¸­çš„ä¸€ä¸ªå›è°ƒå‡½æ•°æ¨¡å—ï¼Œä¸»è¦ç”¨äºè®­ç»ƒã€éªŒè¯ã€é¢„æµ‹å’Œå¯¼å‡ºè¿‡ç¨‹ä¸­çš„äº‹ä»¶å¤„ç†ã€‚æ–‡ä»¶ä¸­å®šä¹‰äº†ä¸€ç³»åˆ—çš„å›è°ƒå‡½æ•°ï¼Œè¿™äº›å‡½æ•°åœ¨ç‰¹å®šçš„è®­ç»ƒæˆ–éªŒè¯é˜¶æ®µè¢«è°ƒç”¨ï¼Œä»¥ä¾¿äºç”¨æˆ·åœ¨è¿™äº›é˜¶æ®µæ’å…¥è‡ªå®šä¹‰çš„æ“ä½œæˆ–ç›‘æ§ã€‚

æ–‡ä»¶çš„å¼€å¤´éƒ¨åˆ†å¯¼å…¥äº†æ‰€éœ€çš„æ¨¡å—ï¼ŒåŒ…æ‹¬`defaultdict`å’Œ`deepcopy`ï¼Œè¿™ä¸¤ä¸ªæ¨¡å—åˆ†åˆ«ç”¨äºåˆ›å»ºä¸€ä¸ªå…·æœ‰é»˜è®¤å€¼çš„å­—å…¸å’Œæ·±æ‹·è´å¯¹è±¡ã€‚æ¥ä¸‹æ¥ï¼Œæ–‡ä»¶å®šä¹‰äº†ä¸€ç³»åˆ—çš„å›è°ƒå‡½æ•°ï¼Œè¿™äº›å‡½æ•°è¢«åˆ†ä¸ºä¸åŒçš„ç±»åˆ«ï¼ŒåŒ…æ‹¬è®­ç»ƒå›è°ƒã€éªŒè¯å›è°ƒã€é¢„æµ‹å›è°ƒå’Œå¯¼å‡ºå›è°ƒã€‚

åœ¨è®­ç»ƒå›è°ƒéƒ¨åˆ†ï¼Œå®šä¹‰äº†å¤šä¸ªå‡½æ•°ï¼Œä¾‹å¦‚`on_train_start`ã€`on_train_epoch_start`ã€`on_train_batch_start`ç­‰ï¼Œè¿™äº›å‡½æ•°åœ¨è®­ç»ƒçš„ä¸åŒé˜¶æ®µè¢«è°ƒç”¨ã€‚æ¯ä¸ªå‡½æ•°éƒ½æ¥æ”¶ä¸€ä¸ª`trainer`å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œä½†ç›®å‰è¿™äº›å‡½æ•°çš„å®ç°éƒ½æ˜¯ç©ºçš„ï¼Œæ„å‘³ç€å®ƒä»¬å¯ä»¥è¢«ç”¨æˆ·æ ¹æ®éœ€è¦è¿›è¡Œæ‰©å±•ã€‚

åŒæ ·ï¼ŒéªŒè¯å›è°ƒéƒ¨åˆ†ä¹Ÿå®šä¹‰äº†ä¸€äº›å‡½æ•°ï¼Œå¦‚`on_val_start`ã€`on_val_batch_start`ç­‰ï¼Œç›®çš„æ˜¯åœ¨éªŒè¯è¿‡ç¨‹çš„ä¸åŒé˜¶æ®µæ‰§è¡Œç‰¹å®šæ“ä½œã€‚é¢„æµ‹å’Œå¯¼å‡ºå›è°ƒéƒ¨åˆ†ä¹Ÿéµå¾ªç›¸åŒçš„æ¨¡å¼ï¼Œæä¾›äº†åœ¨é¢„æµ‹å’Œæ¨¡å‹å¯¼å‡ºæ—¶çš„é’©å­ã€‚

æ–‡ä»¶ä¸­è¿˜å®šä¹‰äº†ä¸€ä¸ª`default_callbacks`å­—å…¸ï¼ŒåŒ…å«äº†æ‰€æœ‰çš„å›è°ƒå‡½æ•°ï¼Œä¾¿äºåœ¨è®­ç»ƒã€éªŒè¯ã€é¢„æµ‹å’Œå¯¼å‡ºè¿‡ç¨‹ä¸­ç»Ÿä¸€ç®¡ç†è¿™äº›å›è°ƒã€‚`get_default_callbacks`å‡½æ•°è¿”å›ä¸€ä¸ª`defaultdict`ï¼Œè¿™ä¸ªå­—å…¸çš„é»˜è®¤å€¼æ˜¯ç©ºåˆ—è¡¨ï¼Œä¾¿äºåœ¨ä½¿ç”¨æ—¶æ·»åŠ æ–°çš„å›è°ƒã€‚

æœ€åï¼Œ`add_integration_callbacks`å‡½æ•°ç”¨äºå°†æ¥è‡ªä¸åŒæ¥æºçš„é›†æˆå›è°ƒæ·»åŠ åˆ°ç»™å®šå®ä¾‹çš„å›è°ƒå­—å…¸ä¸­ã€‚è¿™ä¸ªå‡½æ•°é¦–å…ˆåŠ è½½ä¸€äº›ç‰¹å®šçš„å›è°ƒæ¨¡å—ï¼Œç„¶åæ ¹æ®å®ä¾‹çš„ç±»å‹ï¼ˆå¦‚Trainerã€Predictorç­‰ï¼‰å°†ç›¸åº”çš„å›è°ƒæ·»åŠ åˆ°å®ä¾‹çš„å›è°ƒåˆ—è¡¨ä¸­ã€‚

æ€»çš„æ¥è¯´ï¼Œè¿™ä¸ªæ–‡ä»¶æä¾›äº†ä¸€ä¸ªçµæ´»çš„æ¡†æ¶ï¼Œä½¿å¾—ç”¨æˆ·å¯ä»¥åœ¨YOLOæ¨¡å‹çš„è®­ç»ƒã€éªŒè¯ã€é¢„æµ‹å’Œå¯¼å‡ºè¿‡ç¨‹ä¸­æ’å…¥è‡ªå®šä¹‰çš„æ“ä½œï¼Œå¢å¼ºäº†æ¨¡å‹è®­ç»ƒçš„å¯æ§æ€§å’Œå¯æ‰©å±•æ€§ã€‚

#### 11.2 code\ultralytics\data\augment.py

ä»¥ä¸‹æ˜¯ä»£ç ä¸­æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œå¹¶é™„ä¸Šè¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Šï¼š

```python
class BaseTransform:
    """
    å›¾åƒå˜æ¢çš„åŸºç±»ã€‚

    è¿™æ˜¯ä¸€ä¸ªé€šç”¨çš„å˜æ¢ç±»ï¼Œå¯ä»¥æ ¹æ®ç‰¹å®šçš„å›¾åƒå¤„ç†éœ€æ±‚è¿›è¡Œæ‰©å±•ã€‚
    è¯¥ç±»æ—¨åœ¨ä¸åˆ†ç±»å’Œè¯­ä¹‰åˆ†å‰²ä»»åŠ¡å…¼å®¹ã€‚

    æ–¹æ³•ï¼š
        __init__: åˆå§‹åŒ– BaseTransform å¯¹è±¡ã€‚
        apply_image: å¯¹æ ‡ç­¾åº”ç”¨å›¾åƒå˜æ¢ã€‚
        apply_instances: å¯¹æ ‡ç­¾ä¸­çš„å¯¹è±¡å®ä¾‹åº”ç”¨å˜æ¢ã€‚
        apply_semantic: å¯¹å›¾åƒåº”ç”¨è¯­ä¹‰åˆ†å‰²ã€‚
        __call__: å¯¹å›¾åƒã€å®ä¾‹å’Œè¯­ä¹‰æ©ç åº”ç”¨æ‰€æœ‰æ ‡ç­¾å˜æ¢ã€‚
    """

    def __init__(self) -> None:
        """åˆå§‹åŒ– BaseTransform å¯¹è±¡ã€‚"""
        pass

    def apply_image(self, labels):
        """å¯¹æ ‡ç­¾åº”ç”¨å›¾åƒå˜æ¢ã€‚"""
        pass

    def apply_instances(self, labels):
        """å¯¹æ ‡ç­¾ä¸­çš„å¯¹è±¡å®ä¾‹åº”ç”¨å˜æ¢ã€‚"""
        pass

    def apply_semantic(self, labels):
        """å¯¹å›¾åƒåº”ç”¨è¯­ä¹‰åˆ†å‰²ã€‚"""
        pass

    def __call__(self, labels):
        """å¯¹å›¾åƒã€å®ä¾‹å’Œè¯­ä¹‰æ©ç åº”ç”¨æ‰€æœ‰æ ‡ç­¾å˜æ¢ã€‚"""
        self.apply_image(labels)
        self.apply_instances(labels)
        self.apply_semantic(labels)


class Mosaic(BaseMixTransform):
    """
    Mosaic å¢å¼ºã€‚

    è¯¥ç±»é€šè¿‡å°†å¤šä¸ªï¼ˆ4 æˆ– 9ï¼‰å¼ å›¾åƒç»„åˆæˆä¸€å¼ é©¬èµ›å…‹å›¾åƒæ¥æ‰§è¡Œé©¬èµ›å…‹å¢å¼ºã€‚
    å¢å¼ºä»¥ç»™å®šçš„æ¦‚ç‡åº”ç”¨äºæ•°æ®é›†ã€‚

    å±æ€§ï¼š
        dataset: åº”ç”¨é©¬èµ›å…‹å¢å¼ºçš„æ•°æ®é›†ã€‚
        imgsz (int, optional): å•å¼ å›¾åƒé©¬èµ›å…‹ç®¡é“åçš„å›¾åƒå¤§å°ï¼ˆé«˜åº¦å’Œå®½åº¦ï¼‰ã€‚é»˜è®¤ä¸º 640ã€‚
        p (float, optional): åº”ç”¨é©¬èµ›å…‹å¢å¼ºçš„æ¦‚ç‡ã€‚å¿…é¡»åœ¨ 0-1 èŒƒå›´å†…ã€‚é»˜è®¤ä¸º 1.0ã€‚
        n (int, optional): ç½‘æ ¼å¤§å°ï¼Œ4ï¼ˆ2x2ï¼‰æˆ– 9ï¼ˆ3x3ï¼‰ã€‚
    """

    def __init__(self, dataset, imgsz=640, p=1.0, n=4):
        """ä½¿ç”¨æ•°æ®é›†ã€å›¾åƒå¤§å°ã€æ¦‚ç‡å’Œè¾¹ç•Œåˆå§‹åŒ–å¯¹è±¡ã€‚"""
        assert 0 <= p <= 1.0, f"æ¦‚ç‡åº”åœ¨ [0, 1] èŒƒå›´å†…ï¼Œä½†å¾—åˆ° {p}ã€‚"
        assert n in (4, 9), "ç½‘æ ¼å¿…é¡»ç­‰äº 4 æˆ– 9ã€‚"
        super().__init__(dataset=dataset, p=p)
        self.dataset = dataset
        self.imgsz = imgsz
        self.border = (-imgsz // 2, -imgsz // 2)  # å®½åº¦ï¼Œé«˜åº¦
        self.n = n

    def get_indexes(self, buffer=True):
        """è¿”å›æ•°æ®é›†ä¸­éšæœºç´¢å¼•çš„åˆ—è¡¨ã€‚"""
        if buffer:  # ä»ç¼“å†²åŒºé€‰æ‹©å›¾åƒ
            return random.choices(list(self.dataset.buffer), k=self.n - 1)
        else:  # é€‰æ‹©ä»»ä½•å›¾åƒ
            return [random.randint(0, len(self.dataset) - 1) for _ in range(self.n - 1)]

    def _mix_transform(self, labels):
        """å¯¹æ ‡ç­¾å­—å…¸åº”ç”¨ MixUp æˆ– Mosaic å¢å¼ºã€‚"""
        assert labels.get("rect_shape", None) is None, "rect å’Œ mosaic æ˜¯äº’æ–¥çš„ã€‚"
        assert len(labels.get("mix_labels", [])), "æ²¡æœ‰å…¶ä»–å›¾åƒç”¨äºé©¬èµ›å…‹å¢å¼ºã€‚"
        return (
            self._mosaic3(labels) if self.n == 3 else self._mosaic4(labels) if self.n == 4 else self._mosaic9(labels)
        )

    def _mosaic4(self, labels):
        """åˆ›å»º 2x2 å›¾åƒé©¬èµ›å…‹ã€‚"""
        mosaic_labels = []
        s = self.imgsz
        yc, xc = (int(random.uniform(-x, 2 * s + x)) for x in self.border)  # é©¬èµ›å…‹ä¸­å¿ƒ x, y
        for i in range(4):
            labels_patch = labels if i == 0 else labels["mix_labels"][i - 1]
            img = labels_patch["img"]
            h, w = labels_patch.pop("resized_shape")

            # å°†å›¾åƒæ”¾ç½®åœ¨ img4 ä¸­
            if i == 0:  # å·¦ä¸Šè§’
                img4 = np.full((s * 2, s * 2, img.shape[2]), 114, dtype=np.uint8)  # åŸºç¡€å›¾åƒä¸ 4 ä¸ªç“·ç –
                x1a, y1a, x2a, y2a = max(xc - w, 0), max(yc - h, 0), xc, yc  # xmin, ymin, xmax, ymaxï¼ˆå¤§å›¾åƒï¼‰
                x1b, y1b, x2b, y2b = w - (x2a - x1a), h - (y2a - y1a), w, h  # xmin, ymin, xmax, ymaxï¼ˆå°å›¾åƒï¼‰
            elif i == 1:  # å³ä¸Šè§’
                x1a, y1a, x2a, y2a = xc, max(yc - h, 0), min(xc + w, s * 2), yc
                x1b, y1b, x2b, y2b = 0, h - (y2a - y1a), min(w, x2a - x1a), h
            elif i == 2:  # å·¦ä¸‹è§’
                x1a, y1a, x2a, y2a = max(xc - w, 0), yc, xc, min(s * 2, yc + h)
                x1b, y1b, x2b, y2b = w - (x2a - x1a), 0, w, min(y2a - y1a, h)
            elif i == 3:  # å³ä¸‹è§’
                x1a, y1a, x2a, y2a = xc, yc, min(xc + w, s * 2), min(s * 2, yc + h)
                x1b, y1b, x2b, y2b = 0, 0, min(w, x2a - x1a), min(y2a - y1a, h)

            img4[y1a:y2a, x1a:x2a] = img[y1b:y2b, x1b:x2b]  # img4[ymin:ymax, xmin:xmax]
            padw = x1a - x1b
            padh = y1a - y1b

            labels_patch = self._update_labels(labels_patch, padw, padh)
            mosaic_labels.append(labels_patch)
        final_labels = self._cat_labels(mosaic_labels)
        final_labels["img"] = img4
        return final_labels

    @staticmethod
    def _update_labels(labels, padw, padh):
        """æ›´æ–°æ ‡ç­¾ã€‚"""
        nh, nw = labels["img"].shape[:2]
        labels["instances"].convert_bbox(format="xyxy")
        labels["instances"].denormalize(nw, nh)
        labels["instances"].add_padding(padw, padh)
        return labels

    def _cat_labels(self, mosaic_labels):
        """è¿”å›å¸¦æœ‰é©¬èµ›å…‹è¾¹ç•Œå®ä¾‹å‰ªè£çš„æ ‡ç­¾ã€‚"""
        if len(mosaic_labels) == 0:
            return {}
        cls = []
        instances = []
        imgsz = self.imgsz * 2  # é©¬èµ›å…‹å›¾åƒå¤§å°
        for labels in mosaic_labels:
            cls.append(labels["cls"])
            instances.append(labels["instances"])
        # æœ€ç»ˆæ ‡ç­¾
        final_labels = {
            "im_file": mosaic_labels[0]["im_file"],
            "ori_shape": mosaic_labels[0]["ori_shape"],
            "resized_shape": (imgsz, imgsz),
            "cls": np.concatenate(cls, 0),
            "instances": Instances.concatenate(instances, axis=0),
            "mosaic_border": self.border,
        }
        final_labels["instances"].clip(imgsz, imgsz)
        good = final_labels["instances"].remove_zero_area_boxes()
        final_labels["cls"] = final_labels["cls"][good]
        return final_labels
```

ä»¥ä¸Šä»£ç å±•ç¤ºäº†å›¾åƒå˜æ¢çš„åŸºç±»å’Œé©¬èµ›å…‹å¢å¼ºçš„å®ç°ã€‚`BaseTransform`ç±»æä¾›äº†ä¸€ä¸ªé€šç”¨çš„æ¡†æ¶ï¼Œç”¨äºå®šä¹‰å›¾åƒå˜æ¢çš„åŸºæœ¬æ–¹æ³•ï¼Œè€Œ`Mosaic`ç±»åˆ™å®ç°äº†å°†å¤šå¼ å›¾åƒç»„åˆæˆä¸€å¼ é©¬èµ›å…‹å›¾åƒçš„å…·ä½“é€»è¾‘ã€‚é€šè¿‡è¿™äº›ç±»ï¼Œå¯ä»¥æ–¹ä¾¿åœ°å¯¹å›¾åƒè¿›è¡Œå„ç§å¢å¼ºå¤„ç†ï¼Œä»¥æé«˜æ¨¡å‹çš„é²æ£’æ€§å’Œå‡†ç¡®æ€§ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶ `code\ultralytics\data\augment.py` æ˜¯ç”¨äºå›¾åƒå¢å¼ºçš„æ¨¡å—ï¼Œä¸»è¦ç”¨äºç›®æ ‡æ£€æµ‹å’Œå›¾åƒåˆ†ç±»ä»»åŠ¡ã€‚å®ƒåŒ…å«äº†å¤šç§å›¾åƒå¤„ç†å’Œå¢å¼ºæŠ€æœ¯ï¼Œä»¥æé«˜æ¨¡å‹çš„é²æ£’æ€§å’Œå‡†ç¡®æ€§ã€‚ä»¥ä¸‹æ˜¯å¯¹æ–‡ä»¶ä¸­ä¸»è¦ç±»å’ŒåŠŸèƒ½çš„è¯¦ç»†è¯´æ˜ã€‚

é¦–å…ˆï¼Œæ–‡ä»¶å¯¼å…¥äº†ä¸€äº›å¿…è¦çš„åº“ï¼ŒåŒ…æ‹¬æ•°å­¦è®¡ç®—ã€éšæœºæ•°ç”Ÿæˆã€å›¾åƒå¤„ç†åº“ï¼ˆå¦‚ OpenCV å’Œ NumPyï¼‰ã€æ·±åº¦å­¦ä¹ æ¡†æ¶ï¼ˆå¦‚ PyTorch å’Œ torchvisionï¼‰ï¼Œä»¥åŠä¸€äº›è‡ªå®šä¹‰çš„å·¥å…·å‡½æ•°å’Œç±»ã€‚

æ–‡ä»¶å®šä¹‰äº†ä¸€ä¸ªåŸºç±» `BaseTransform`ï¼Œç”¨äºå¤„ç†å›¾åƒçš„åŸºæœ¬å˜æ¢ã€‚è¯¥ç±»æä¾›äº†åº”ç”¨å›¾åƒã€å®ä¾‹å’Œè¯­ä¹‰åˆ†å‰²æ ‡ç­¾çš„æ¥å£ï¼Œä½†å…·ä½“çš„å®ç°éœ€è¦åœ¨å­ç±»ä¸­å®šä¹‰ã€‚

æ¥ä¸‹æ¥æ˜¯ `Compose` ç±»ï¼Œå®ƒå…è®¸å°†å¤šä¸ªå›¾åƒå˜æ¢ç»„åˆåœ¨ä¸€èµ·ã€‚è¿™ä¸ªç±»çš„ `__call__` æ–¹æ³•ä¼šä¾æ¬¡åº”ç”¨æ‰€æœ‰çš„å˜æ¢ï¼Œå¹¶è¿”å›æœ€ç»ˆçš„å¤„ç†ç»“æœã€‚

`BaseMixTransform` ç±»æ˜¯ä¸€ä¸ªç”¨äºæ··åˆå¢å¼ºï¼ˆå¦‚ MixUp å’Œ Mosaicï¼‰çš„åŸºç±»ã€‚å®ƒè´Ÿè´£ä»æ•°æ®é›†ä¸­è·å–å›¾åƒï¼Œå¹¶åœ¨æŒ‡å®šçš„æ¦‚ç‡ä¸‹åº”ç”¨æ··åˆå˜æ¢ã€‚å…·ä½“çš„æ··åˆå˜æ¢é€»è¾‘åœ¨å­ç±»ä¸­å®ç°ã€‚

`Mosaic` ç±»å®ç°äº†é©¬èµ›å…‹å¢å¼ºï¼Œé€šè¿‡å°†å¤šä¸ªå›¾åƒç»„åˆæˆä¸€ä¸ªé©¬èµ›å…‹å›¾åƒæ¥å¢å¼ºæ•°æ®ã€‚è¯¥ç±»æ”¯æŒ 4 æˆ– 9 å¼ å›¾åƒçš„ç»„åˆï¼Œå¹¶ä¸”å¯ä»¥æ ¹æ®æŒ‡å®šçš„æ¦‚ç‡åº”ç”¨è¯¥å¢å¼ºã€‚

`MixUp` ç±»å®ç°äº† MixUp å¢å¼ºï¼Œé€šè¿‡å°†ä¸¤å¼ å›¾åƒæŒ‰æ¯”ä¾‹æ··åˆæ¥ç”Ÿæˆæ–°çš„å›¾åƒã€‚è¿™ç§æ–¹æ³•å¯ä»¥æé«˜æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ã€‚

`RandomPerspective` ç±»å®ç°äº†éšæœºé€è§†å˜æ¢å’Œä»¿å°„å˜æ¢ï¼Œèƒ½å¤Ÿå¯¹å›¾åƒè¿›è¡Œæ—‹è½¬ã€å¹³ç§»ã€ç¼©æ”¾å’Œå‰ªåˆ‡ç­‰æ“ä½œã€‚å®ƒè¿˜æä¾›äº†å¯¹è¾¹ç•Œæ¡†ã€åˆ†å‰²å’Œå…³é”®ç‚¹çš„ç›¸åº”å˜æ¢ã€‚

`RandomHSV` ç±»ç”¨äºéšæœºè°ƒæ•´å›¾åƒçš„è‰²è°ƒã€é¥±å’Œåº¦å’Œäº®åº¦ï¼Œå¢åŠ å›¾åƒçš„å¤šæ ·æ€§ã€‚

`RandomFlip` ç±»å®ç°äº†éšæœºç¿»è½¬å›¾åƒçš„åŠŸèƒ½ï¼Œå¯ä»¥é€‰æ‹©æ°´å¹³æˆ–å‚ç›´ç¿»è½¬ï¼Œå¹¶ç›¸åº”åœ°æ›´æ–°å®ä¾‹ï¼ˆå¦‚è¾¹ç•Œæ¡†å’Œå…³é”®ç‚¹ï¼‰ã€‚

`LetterBox` ç±»ç”¨äºè°ƒæ•´å›¾åƒå¤§å°å¹¶è¿›è¡Œå¡«å……ï¼Œä»¥é€‚åº”ç›®æ ‡æ£€æµ‹å’Œå®ä¾‹åˆ†å‰²ä»»åŠ¡çš„è¾“å…¥è¦æ±‚ã€‚å®ƒç¡®ä¿å›¾åƒçš„é•¿å®½æ¯”ä¸å˜ï¼Œå¹¶åœ¨å¿…è¦æ—¶æ·»åŠ è¾¹æ¡†ã€‚

`CopyPaste` ç±»å®ç°äº†å¤åˆ¶ç²˜è´´å¢å¼ºï¼Œé€šè¿‡å°†ä¸€ä¸ªå›¾åƒçš„å®ä¾‹å¤åˆ¶åˆ°å¦ä¸€ä¸ªå›¾åƒä¸Šæ¥å¢åŠ æ•°æ®çš„å¤šæ ·æ€§ã€‚

`Albumentations` ç±»æä¾›äº†ä¸€ç³»åˆ—åŸºäº Albumentations åº“çš„å›¾åƒå¢å¼ºæŠ€æœ¯ï¼Œå¦‚æ¨¡ç³Šã€å¯¹æ¯”åº¦é™åˆ¶è‡ªé€‚åº”ç›´æ–¹å›¾å‡è¡¡ã€éšæœºäº®åº¦å’Œå¯¹æ¯”åº¦å˜åŒ–ç­‰ã€‚

`Format` ç±»ç”¨äºæ ¼å¼åŒ–å›¾åƒæ³¨é‡Šï¼Œä»¥ä¾¿äºåœ¨ PyTorch çš„ DataLoader ä¸­ä½¿ç”¨ã€‚å®ƒå¯ä»¥å¤„ç†è¾¹ç•Œæ¡†ã€åˆ†å‰²æ©ç å’Œå…³é”®ç‚¹çš„æ ‡å‡†åŒ–ã€‚

æœ€åï¼Œæ–‡ä»¶ä¸­è¿˜å®šä¹‰äº†ä¸€äº›ç”¨äºè®­ç»ƒå’Œè¯„ä¼°çš„å›¾åƒè½¬æ¢å‡½æ•°ï¼Œå¦‚ `v8_transforms` å’Œ `classify_transforms`ï¼Œè¿™äº›å‡½æ•°å°†å„ç§å¢å¼ºæŠ€æœ¯ç»„åˆåœ¨ä¸€èµ·ï¼Œä»¥ä¾¿åœ¨è®­ç»ƒå’Œæ¨ç†æ—¶ä½¿ç”¨ã€‚

æ€»ä½“è€Œè¨€ï¼Œè¿™ä¸ªæ–‡ä»¶æä¾›äº†ä¸°å¯Œçš„å›¾åƒå¢å¼ºåŠŸèƒ½ï¼Œæ—¨åœ¨é€šè¿‡å¤šæ ·åŒ–è®­ç»ƒæ•°æ®æ¥æé«˜æ¨¡å‹çš„æ€§èƒ½å’Œé²æ£’æ€§ã€‚

#### 11.3 ui.py

```python
import sys
import subprocess

def run_script(script_path):
    """
    ä½¿ç”¨å½“å‰ Python ç¯å¢ƒè¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚

    Args:
        script_path (str): è¦è¿è¡Œçš„è„šæœ¬è·¯å¾„

    Returns:
        None
    """
    # è·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„
    python_path = sys.executable

    # æ„å»ºè¿è¡Œå‘½ä»¤ï¼Œä½¿ç”¨ streamlit è¿è¡ŒæŒ‡å®šçš„è„šæœ¬
    command = f'"{python_path}" -m streamlit run "{script_path}"'

    # æ‰§è¡Œå‘½ä»¤å¹¶ç­‰å¾…å…¶å®Œæˆ
    result = subprocess.run(command, shell=True)
    
    # æ£€æŸ¥å‘½ä»¤æ‰§è¡Œçš„è¿”å›ç ï¼Œå¦‚æœä¸ä¸º0åˆ™è¡¨ç¤ºå‡ºé”™
    if result.returncode != 0:
        print("è„šæœ¬è¿è¡Œå‡ºé”™ã€‚")


# å®ä¾‹åŒ–å¹¶è¿è¡Œåº”ç”¨
if __name__ == "__main__":
    # æŒ‡å®šè¦è¿è¡Œçš„è„šæœ¬è·¯å¾„
    script_path = "web.py"  # è¿™é‡Œå¯ä»¥ç›´æ¥æŒ‡å®šè„šæœ¬åç§°

    # è°ƒç”¨å‡½æ•°è¿è¡Œè„šæœ¬
    run_script(script_path)
```

### ä»£ç æ³¨é‡Šè¯´æ˜ï¼š
1. **å¯¼å…¥æ¨¡å—**ï¼š
   - `sys`ï¼šç”¨äºè®¿é—®ä¸ Python è§£é‡Šå™¨ç›¸å…³çš„å˜é‡å’Œå‡½æ•°ã€‚
   - `subprocess`ï¼šç”¨äºæ‰§è¡Œå¤–éƒ¨å‘½ä»¤å’Œç¨‹åºã€‚

2. **å®šä¹‰ `run_script` å‡½æ•°**ï¼š
   - è¯¥å‡½æ•°æ¥æ”¶ä¸€ä¸ªå‚æ•° `script_path`ï¼Œè¡¨ç¤ºè¦è¿è¡Œçš„ Python è„šæœ¬çš„è·¯å¾„ã€‚
   - ä½¿ç”¨ `sys.executable` è·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„ï¼Œä»¥ç¡®ä¿ä½¿ç”¨ç›¸åŒçš„ç¯å¢ƒè¿è¡Œè„šæœ¬ã€‚
   - æ„å»ºå‘½ä»¤å­—ç¬¦ä¸²ï¼Œä½¿ç”¨ `streamlit` æ¨¡å—è¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚
   - ä½¿ç”¨ `subprocess.run` æ‰§è¡Œå‘½ä»¤ï¼Œå¹¶ç­‰å¾…å…¶å®Œæˆã€‚
   - æ£€æŸ¥å‘½ä»¤çš„è¿”å›ç ï¼Œå¦‚æœè¿”å›ç ä¸ä¸º0ï¼Œè¡¨ç¤ºè„šæœ¬è¿è¡Œå‡ºé”™ï¼Œæ‰“å°é”™è¯¯ä¿¡æ¯ã€‚

3. **ä¸»ç¨‹åºå—**ï¼š
   - åœ¨ä¸»ç¨‹åºä¸­ï¼ŒæŒ‡å®šè¦è¿è¡Œçš„è„šæœ¬è·¯å¾„ï¼ˆè¿™é‡Œç›´æ¥ä½¿ç”¨è„šæœ¬åç§° `web.py`ï¼‰ã€‚
   - è°ƒç”¨ `run_script` å‡½æ•°ï¼Œæ‰§è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶åä¸º `ui.py`ï¼Œå…¶ä¸»è¦åŠŸèƒ½æ˜¯ä½¿ç”¨å½“å‰çš„ Python ç¯å¢ƒæ¥è¿è¡Œä¸€ä¸ªæŒ‡å®šçš„è„šæœ¬ï¼Œå…·ä½“æ˜¯é€šè¿‡ Streamlit æ¡†æ¶æ¥å¯åŠ¨ä¸€ä¸ª Web åº”ç”¨ã€‚

é¦–å…ˆï¼Œç¨‹åºå¯¼å…¥äº†å‡ ä¸ªå¿…è¦çš„æ¨¡å—ï¼ŒåŒ…æ‹¬ `sys`ã€`os` å’Œ `subprocess`ã€‚å…¶ä¸­ï¼Œ`sys` æ¨¡å—ç”¨äºè®¿é—®ä¸ Python è§£é‡Šå™¨ç›¸å…³çš„å˜é‡å’Œå‡½æ•°ï¼Œ`os` æ¨¡å—æä¾›äº†ä¸æ“ä½œç³»ç»Ÿäº¤äº’çš„åŠŸèƒ½ï¼Œè€Œ `subprocess` æ¨¡å—åˆ™ç”¨äºæ‰§è¡Œå¤–éƒ¨å‘½ä»¤ã€‚

æ¥ç€ï¼Œç¨‹åºä» `QtFusion.path` æ¨¡å—ä¸­å¯¼å…¥äº† `abs_path` å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°çš„ä½œç”¨æ˜¯è·å–æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ã€‚

åœ¨ `run_script` å‡½æ•°ä¸­ï¼Œç¨‹åºæ¥å—ä¸€ä¸ªå‚æ•° `script_path`ï¼Œè¿™ä¸ªå‚æ•°æ˜¯è¦è¿è¡Œçš„è„šæœ¬çš„è·¯å¾„ã€‚å‡½æ•°é¦–å…ˆè·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„ï¼Œå¹¶å°†å…¶å­˜å‚¨åœ¨ `python_path` å˜é‡ä¸­ã€‚ç„¶åï¼Œç¨‹åºæ„å»ºäº†ä¸€ä¸ªå‘½ä»¤å­—ç¬¦ä¸²ï¼Œè¯¥å‘½ä»¤ä½¿ç”¨ Streamlit æ¡†æ¶æ¥è¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚å…·ä½“çš„å‘½ä»¤æ ¼å¼ä¸º `"{python_path}" -m streamlit run "{script_path}"`ã€‚

éšåï¼Œç¨‹åºé€šè¿‡ `subprocess.run` æ–¹æ³•æ‰§è¡Œè¿™ä¸ªå‘½ä»¤ï¼Œå¹¶ä½¿ç”¨ `shell=True` å‚æ•°æ¥å…è®¸åœ¨ shell ä¸­æ‰§è¡Œå‘½ä»¤ã€‚æ‰§è¡Œå®Œå‘½ä»¤åï¼Œç¨‹åºæ£€æŸ¥è¿”å›çš„ç»“æœï¼Œå¦‚æœè¿”å›ç ä¸ä¸º 0ï¼Œè¡¨ç¤ºè„šæœ¬è¿è¡Œå‡ºé”™ï¼Œç¨‹åºä¼šæ‰“å°å‡ºâ€œè„šæœ¬è¿è¡Œå‡ºé”™ã€‚â€çš„æç¤ºä¿¡æ¯ã€‚

æœ€åï¼Œåœ¨ `if __name__ == "__main__":` è¿™ä¸€å—ï¼Œç¨‹åºé¦–å…ˆè°ƒç”¨ `abs_path` å‡½æ•°æ¥è·å–åä¸º `web.py` çš„è„šæœ¬çš„ç»å¯¹è·¯å¾„ï¼Œå¹¶å°†å…¶èµ‹å€¼ç»™ `script_path` å˜é‡ã€‚ç„¶åï¼Œç¨‹åºè°ƒç”¨ `run_script` å‡½æ•°ï¼Œä¼ å…¥ `script_path`ï¼Œä»¥æ­¤æ¥è¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚

æ€»çš„æ¥è¯´ï¼Œè¿™ä¸ªç¨‹åºçš„æ ¸å¿ƒåŠŸèƒ½æ˜¯é€šè¿‡å½“å‰çš„ Python ç¯å¢ƒè¿è¡Œä¸€ä¸ªåä¸º `web.py` çš„ Streamlit è„šæœ¬ï¼Œå¹¶å¤„ç†å¯èƒ½å‡ºç°çš„é”™è¯¯ã€‚

#### 11.4 70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\models\nas\predict.py

ä»¥ä¸‹æ˜¯ç»è¿‡ç®€åŒ–å’Œæ³¨é‡Šçš„æ ¸å¿ƒä»£ç éƒ¨åˆ†ï¼š

```python
import torch
from ultralytics.engine.predictor import BasePredictor
from ultralytics.engine.results import Results
from ultralytics.utils import ops

class NASPredictor(BasePredictor):
    """
    Ultralytics YOLO NAS é¢„æµ‹å™¨ï¼Œç”¨äºç›®æ ‡æ£€æµ‹ã€‚

    è¯¥ç±»æ‰©å±•äº† Ultralytics å¼•æ“ä¸­çš„ `BasePredictor`ï¼Œè´Ÿè´£å¯¹ YOLO NAS æ¨¡å‹ç”Ÿæˆçš„åŸå§‹é¢„æµ‹ç»“æœè¿›è¡Œåå¤„ç†ã€‚
    å®ƒåº”ç”¨äº†éæå¤§å€¼æŠ‘åˆ¶ï¼ˆNMSï¼‰å’Œå°†è¾¹ç•Œæ¡†ç¼©æ”¾åˆ°åŸå§‹å›¾åƒå°ºå¯¸ç­‰æ“ä½œã€‚

    å±æ€§:
        args (Namespace): åŒ…å«å„ç§åå¤„ç†é…ç½®çš„å‘½åç©ºé—´ã€‚
    """

    def postprocess(self, preds_in, img, orig_imgs):
        """å¯¹é¢„æµ‹ç»“æœè¿›è¡Œåå¤„ç†ï¼Œå¹¶è¿”å› Results å¯¹è±¡çš„åˆ—è¡¨ã€‚"""

        # å°†é¢„æµ‹ç»“æœä¸­çš„è¾¹ç•Œæ¡†è½¬æ¢ä¸º xywh æ ¼å¼ï¼ˆå·¦ä¸Šè§’å’Œå®½é«˜ï¼‰
        boxes = ops.xyxy2xywh(preds_in[0][0])
        # å°†è¾¹ç•Œæ¡†å’Œç±»åˆ†æ•°æ‹¼æ¥åœ¨ä¸€èµ·ï¼Œå¹¶è°ƒæ•´ç»´åº¦
        preds = torch.cat((boxes, preds_in[0][1]), -1).permute(0, 2, 1)

        # åº”ç”¨éæå¤§å€¼æŠ‘åˆ¶ï¼Œè¿‡æ»¤æ‰é‡å çš„è¾¹ç•Œæ¡†
        preds = ops.non_max_suppression(preds,
                                        self.args.conf,  # ç½®ä¿¡åº¦é˜ˆå€¼
                                        self.args.iou,   # IOU é˜ˆå€¼
                                        agnostic=self.args.agnostic_nms,  # æ˜¯å¦ä½¿ç”¨ç±»åˆ«æ— å…³çš„ NMS
                                        max_det=self.args.max_det,  # æœ€å¤§æ£€æµ‹æ•°é‡
                                        classes=self.args.classes)  # é€‰æ‹©çš„ç±»åˆ«

        # å¦‚æœè¾“å…¥å›¾åƒä¸æ˜¯åˆ—è¡¨ï¼Œåˆ™å°†å…¶è½¬æ¢ä¸º numpy æ•°ç»„
        if not isinstance(orig_imgs, list):
            orig_imgs = ops.convert_torch2numpy_batch(orig_imgs)

        results = []  # å­˜å‚¨ç»“æœçš„åˆ—è¡¨
        for i, pred in enumerate(preds):
            orig_img = orig_imgs[i]  # è·å–åŸå§‹å›¾åƒ
            # å°†è¾¹ç•Œæ¡†ç¼©æ”¾åˆ°åŸå§‹å›¾åƒçš„å°ºå¯¸
            pred[:, :4] = ops.scale_boxes(img.shape[2:], pred[:, :4], orig_img.shape)
            img_path = self.batch[0][i]  # è·å–å›¾åƒè·¯å¾„
            # åˆ›å»º Results å¯¹è±¡å¹¶æ·»åŠ åˆ°ç»“æœåˆ—è¡¨ä¸­
            results.append(Results(orig_img, path=img_path, names=self.model.names, boxes=pred))
        
        return results  # è¿”å›å¤„ç†åçš„ç»“æœåˆ—è¡¨
```

### ä»£ç æ³¨é‡Šè¯´æ˜ï¼š
1. **å¯¼å…¥å¿…è¦çš„åº“**ï¼šå¼•å…¥ PyTorch å’Œ Ultralytics çš„ç›¸å…³æ¨¡å—ã€‚
2. **NASPredictor ç±»**ï¼šè¯¥ç±»ç”¨äºå¤„ç† YOLO NAS æ¨¡å‹çš„é¢„æµ‹ç»“æœï¼Œç»§æ‰¿è‡ª `BasePredictor`ã€‚
3. **postprocess æ–¹æ³•**ï¼šè¯¥æ–¹æ³•å¯¹æ¨¡å‹çš„åŸå§‹é¢„æµ‹ç»“æœè¿›è¡Œåå¤„ç†ï¼Œè¿”å›ä¸€ä¸ªåŒ…å«æ£€æµ‹ç»“æœçš„åˆ—è¡¨ã€‚
   - **è¾¹ç•Œæ¡†è½¬æ¢**ï¼šå°†é¢„æµ‹çš„è¾¹ç•Œæ¡†ä» xyxy æ ¼å¼è½¬æ¢ä¸º xywh æ ¼å¼ã€‚
   - **æ‹¼æ¥å’Œç»´åº¦è°ƒæ•´**ï¼šå°†è¾¹ç•Œæ¡†å’Œç±»åˆ«åˆ†æ•°æ‹¼æ¥ï¼Œå¹¶è°ƒæ•´å¼ é‡çš„ç»´åº¦ã€‚
   - **éæå¤§å€¼æŠ‘åˆ¶**ï¼šé€šè¿‡ NMS è¿‡æ»¤æ‰é‡å çš„è¾¹ç•Œæ¡†ï¼Œä¿ç•™æœ€æœ‰å¯èƒ½çš„æ£€æµ‹ç»“æœã€‚
   - **å›¾åƒå¤„ç†**ï¼šå°†è¾“å…¥å›¾åƒè½¬æ¢ä¸º numpy æ•°ç»„ï¼ˆå¦‚æœä¸æ˜¯åˆ—è¡¨çš„è¯ï¼‰ã€‚
   - **ç»“æœæ„å»º**ï¼šéå†æ¯ä¸ªé¢„æµ‹ç»“æœï¼Œç¼©æ”¾è¾¹ç•Œæ¡†åˆ°åŸå§‹å›¾åƒçš„å°ºå¯¸ï¼Œå¹¶åˆ›å»º `Results` å¯¹è±¡ï¼Œæœ€åè¿”å›æ‰€æœ‰ç»“æœã€‚

è¯¥ç¨‹åºæ–‡ä»¶æ˜¯Ultralytics YOLO NASæ¨¡å‹çš„é¢„æµ‹å™¨å®ç°ï¼Œä¸»è¦ç”¨äºç›®æ ‡æ£€æµ‹ä»»åŠ¡ã€‚å®ƒç»§æ‰¿è‡ª`BasePredictor`ç±»ï¼Œè´Ÿè´£å¯¹YOLO NASæ¨¡å‹ç”Ÿæˆçš„åŸå§‹é¢„æµ‹ç»“æœè¿›è¡Œåå¤„ç†ã€‚åå¤„ç†çš„ä¸»è¦æ“ä½œåŒ…æ‹¬éæå¤§å€¼æŠ‘åˆ¶ï¼ˆNMSï¼‰å’Œå°†è¾¹ç•Œæ¡†ç¼©æ”¾åˆ°åŸå§‹å›¾åƒçš„å°ºå¯¸ã€‚

åœ¨ç±»çš„æ–‡æ¡£å­—ç¬¦ä¸²ä¸­ï¼Œè¯´æ˜äº†è¯¥ç±»çš„åŠŸèƒ½å’Œç”¨æ³•ç¤ºä¾‹ã€‚ä½¿ç”¨è€…å¯ä»¥é€šè¿‡åˆ›å»ºä¸€ä¸ªYOLO NASæ¨¡å‹å®ä¾‹ï¼Œå¹¶è°ƒç”¨å…¶é¢„æµ‹å™¨æ¥å¤„ç†åŸå§‹é¢„æµ‹ç»“æœã€‚ç¤ºä¾‹ä»£ç å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨è¯¥é¢„æµ‹å™¨çš„`postprocess`æ–¹æ³•ã€‚

`postprocess`æ–¹æ³•æ˜¯è¯¥ç±»çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œæ¥æ”¶åŸå§‹é¢„æµ‹ç»“æœã€è¾“å…¥å›¾åƒå’ŒåŸå§‹å›¾åƒä½œä¸ºå‚æ•°ã€‚é¦–å…ˆï¼Œå®ƒå°†é¢„æµ‹ç»“æœä¸­çš„è¾¹ç•Œæ¡†åæ ‡ä»xyxyæ ¼å¼è½¬æ¢ä¸ºxywhæ ¼å¼ï¼Œå¹¶å°†è¾¹ç•Œæ¡†ä¸ç±»åˆ†æ•°è¿›è¡Œæ‹¼æ¥ã€‚æ¥ç€ï¼Œä½¿ç”¨éæå¤§å€¼æŠ‘åˆ¶ç®—æ³•æ¥è¿‡æ»¤æ‰é‡å çš„è¾¹ç•Œæ¡†ï¼Œä¿ç•™ç½®ä¿¡åº¦é«˜çš„é¢„æµ‹ã€‚

åœ¨å¤„ç†å®Œé¢„æµ‹åï¼Œæ–¹æ³•ä¼šæ£€æŸ¥è¾“å…¥çš„åŸå§‹å›¾åƒæ˜¯å¦ä¸ºåˆ—è¡¨æ ¼å¼ï¼Œå¦‚æœä¸æ˜¯ï¼Œåˆ™å°†å…¶è½¬æ¢ä¸ºNumPyæ•°ç»„æ ¼å¼ã€‚éšåï¼Œæ–¹æ³•ä¼šéå†æ¯ä¸ªé¢„æµ‹ç»“æœï¼Œç¼©æ”¾è¾¹ç•Œæ¡†ä»¥é€‚åº”åŸå§‹å›¾åƒçš„å°ºå¯¸ï¼Œå¹¶å°†ç»“æœå­˜å‚¨åœ¨`Results`å¯¹è±¡ä¸­ï¼Œæœ€ç»ˆè¿”å›è¿™äº›ç»“æœã€‚

æ€»ä½“è€Œè¨€ï¼Œè¯¥æ–‡ä»¶å®ç°äº†YOLO NASæ¨¡å‹çš„é¢„æµ‹åå¤„ç†é€»è¾‘ï¼Œä¸ºç›®æ ‡æ£€æµ‹æä¾›äº†å¿…è¦çš„åŠŸèƒ½ã€‚

#### 11.5 70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\nn\backbone\revcol.py

ä»¥ä¸‹æ˜¯ç»è¿‡ç®€åŒ–å¹¶æ·»åŠ è¯¦ç»†ä¸­æ–‡æ³¨é‡Šçš„æ ¸å¿ƒä»£ç éƒ¨åˆ†ï¼š

```python
import torch
import torch.nn as nn

# å®šä¹‰ä¸€ä¸ªåå‘ä¼ æ’­çš„è‡ªå®šä¹‰å‡½æ•°
class ReverseFunction(torch.autograd.Function):
    @staticmethod
    def forward(ctx, run_functions, alpha, *args):
        # ä¿å­˜å‰å‘ä¼ æ’­æ‰€éœ€çš„å‡½æ•°å’Œå‚æ•°
        ctx.run_functions = run_functions
        ctx.alpha = alpha
        
        # è·å–è¾“å…¥å‚æ•°
        x, c0, c1, c2, c3 = args
        
        # ä½¿ç”¨ç»™å®šçš„å‡½æ•°å’Œå‚æ•°è¿›è¡Œå‰å‘è®¡ç®—
        c0 = run_functions[0](x, c1) + c0 * alpha[0]
        c1 = run_functions[1](c0, c2) + c1 * alpha[1]
        c2 = run_functions[2](c1, c3) + c2 * alpha[2]
        c3 = run_functions[3](c2, None) + c3 * alpha[3]
        
        # ä¿å­˜è®¡ç®—ç»“æœä»¥ä¾¿åå‘ä¼ æ’­ä½¿ç”¨
        ctx.save_for_backward(x, c0, c1, c2, c3)
        return x, c0, c1, c2, c3

    @staticmethod
    def backward(ctx, *grad_outputs):
        # è·å–ä¿å­˜çš„å¼ é‡
        x, c0, c1, c2, c3 = ctx.saved_tensors
        run_functions = ctx.run_functions
        alpha = ctx.alpha
        
        # è®¡ç®—æ¯ä¸ªè¾“å‡ºçš„æ¢¯åº¦
        gx, g0, g1, g2, g3 = grad_outputs
        
        # åå‘ä¼ æ’­
        # è¿™é‡Œçœç•¥äº†å…·ä½“çš„åå‘ä¼ æ’­å®ç°ç»†èŠ‚ï¼Œä¸»è¦æ˜¯é€šè¿‡é“¾å¼æ³•åˆ™è®¡ç®—æ¯ä¸ªå±‚çš„æ¢¯åº¦
        
        return None, None, gx, None, None  # è¿”å›æ¢¯åº¦

# å®šä¹‰ä¸€ä¸ªå­ç½‘ç»œ
class SubNet(nn.Module):
    def __init__(self, channels, layers, kernel, first_col, save_memory) -> None:
        super().__init__()
        # åˆå§‹åŒ–å‚æ•°
        self.alpha0 = nn.Parameter(torch.ones((1, channels[0], 1, 1)), requires_grad=True)
        self.alpha1 = nn.Parameter(torch.ones((1, channels[1], 1, 1)), requires_grad=True)
        self.alpha2 = nn.Parameter(torch.ones((1, channels[2], 1, 1)), requires_grad=True)
        self.alpha3 = nn.Parameter(torch.ones((1, channels[3], 1, 1)), requires_grad=True)

        # åˆ›å»ºç½‘ç»œå±‚
        self.level0 = Level(0, channels, layers, kernel, first_col)
        self.level1 = Level(1, channels, layers, kernel, first_col)
        self.level2 = Level(2, channels, layers, kernel, first_col)
        self.level3 = Level(3, channels, layers, kernel, first_col)

    def forward(self, *args):
        # æ ¹æ®æ˜¯å¦ä¿å­˜å†…å­˜é€‰æ‹©å‰å‘ä¼ æ’­æ–¹å¼
        if self.save_memory:
            return self._forward_reverse(*args)
        else:
            return self._forward_nonreverse(*args)

    def _forward_nonreverse(self, *args):
        # éåå‘ä¼ æ’­çš„å‰å‘è®¡ç®—
        x, c0, c1, c2, c3 = args
        c0 = self.alpha0 * c0 + self.level0(x, c1)
        c1 = self.alpha1 * c1 + self.level1(c0, c2)
        c2 = self.alpha2 * c2 + self.level2(c1, c3)
        c3 = self.alpha3 * c3 + self.level3(c2, None)
        return c0, c1, c2, c3

    def _forward_reverse(self, *args):
        # åå‘ä¼ æ’­çš„å‰å‘è®¡ç®—
        local_funs = [self.level0, self.level1, self.level2, self.level3]
        alpha = [self.alpha0, self.alpha1, self.alpha2, self.alpha3]
        _, c0, c1, c2, c3 = ReverseFunction.apply(local_funs, alpha, *args)
        return c0, c1, c2, c3

# å®šä¹‰ä¸»ç½‘ç»œ
class RevCol(nn.Module):
    def __init__(self, kernel='C2f', channels=[32, 64, 96, 128], layers=[2, 3, 6, 3], num_subnet=5, save_memory=True) -> None:
        super().__init__()
        self.num_subnet = num_subnet
        self.channels = channels
        self.layers = layers
        
        # åˆå§‹åŒ–ç½‘ç»œçš„è¾“å…¥å±‚
        self.stem = Conv(3, channels[0], k=4, s=4, p=0)

        # æ·»åŠ å¤šä¸ªå­ç½‘ç»œ
        for i in range(num_subnet):
            first_col = (i == 0)
            self.add_module(f'subnet{i}', SubNet(channels, layers, kernel, first_col, save_memory))

    def forward(self, x):
        # ä¸»ç½‘ç»œçš„å‰å‘ä¼ æ’­
        c0, c1, c2, c3 = 0, 0, 0, 0
        x = self.stem(x)
        for i in range(self.num_subnet):
            c0, c1, c2, c3 = getattr(self, f'subnet{i}')(x, c0, c1, c2, c3)
        return [c0, c1, c2, c3]
```

### ä»£ç è¯´æ˜ï¼š
1. **ReverseFunction**: è‡ªå®šä¹‰çš„åå‘ä¼ æ’­å‡½æ•°ï¼ŒåŒ…å«å‰å‘å’Œåå‘ä¼ æ’­çš„é€»è¾‘ã€‚
2. **SubNet**: å­ç½‘ç»œç±»ï¼ŒåŒ…å«å¤šä¸ªå±‚çš„ç»„åˆï¼Œæ”¯æŒåå‘ä¼ æ’­å’Œéåå‘ä¼ æ’­çš„å‰å‘è®¡ç®—ã€‚
3. **RevCol**: ä¸»ç½‘ç»œç±»ï¼ŒåŒ…å«å¤šä¸ªå­ç½‘ç»œçš„å®ä¾‹åŒ–ï¼Œå¹¶å®šä¹‰äº†æ•´ä½“çš„å‰å‘ä¼ æ’­é€»è¾‘ã€‚

è¿™æ®µä»£ç ä¸»è¦å®ç°äº†ä¸€ä¸ªå…·æœ‰åå‘ä¼ æ’­åŠŸèƒ½çš„ç¥ç»ç½‘ç»œç»“æ„ï¼Œæ”¯æŒå†…å­˜ä¼˜åŒ–ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶æ˜¯ä¸€ä¸ªå®ç°äº†åå‘ä¼ æ’­å’Œç‰¹å¾èåˆçš„ç¥ç»ç½‘ç»œæ¨¡å—ï¼Œä¸»è¦ç”¨äºYOLOv8ç®—æ³•çš„æ”¹è¿›ã€‚æ–‡ä»¶ä¸­åŒ…å«äº†å¤šä¸ªç±»å’Œå‡½æ•°ï¼Œå…·ä½“åŠŸèƒ½å¦‚ä¸‹ï¼š

é¦–å…ˆï¼Œå¯¼å…¥äº†å¿…è¦çš„PyTorchåº“ä»¥åŠè‡ªå®šä¹‰çš„å·ç§¯å’Œæ¨¡å—ã€‚`__all__`å®šä¹‰äº†æ¨¡å—çš„å…¬å…±æ¥å£ã€‚

æ¥ä¸‹æ¥ï¼Œå®šä¹‰äº†ä¸€äº›è¾…åŠ©å‡½æ•°ã€‚`get_gpu_states`ç”¨äºè·å–å½“å‰GPUçš„éšæœºæ•°ç”ŸæˆçŠ¶æ€ï¼Œ`get_gpu_device`ç”¨äºä»è¾“å…¥çš„å¼ é‡ä¸­æå–å‡ºä½¿ç”¨çš„GPUè®¾å¤‡ï¼Œ`set_device_states`ç”¨äºè®¾ç½®CPUå’ŒGPUçš„éšæœºæ•°ç”ŸæˆçŠ¶æ€ï¼Œ`detach_and_grad`ç”¨äºåˆ†ç¦»å¼ é‡å¹¶è®¾ç½®å…¶éœ€è¦æ¢¯åº¦è®¡ç®—çš„æ ‡å¿—ï¼Œ`get_cpu_and_gpu_states`åˆ™æ˜¯ä¸€ä¸ªç»„åˆå‡½æ•°ï¼Œç”¨äºè·å–CPUå’ŒGPUçš„çŠ¶æ€ã€‚

`ReverseFunction`ç±»æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰çš„è‡ªåŠ¨æ±‚å¯¼å‡½æ•°ï¼ŒåŒ…å«äº†å‰å‘ä¼ æ’­å’Œåå‘ä¼ æ’­çš„é€»è¾‘ã€‚åœ¨å‰å‘ä¼ æ’­ä¸­ï¼Œå®ƒæ¥æ”¶å¤šä¸ªè¿è¡Œå‡½æ•°å’Œå‚æ•°ï¼Œé€šè¿‡ä¸€ç³»åˆ—çš„è®¡ç®—å¾—åˆ°è¾“å‡ºï¼Œå¹¶ä¿å­˜ä¸­é—´çŠ¶æ€ä»¥ä¾¿åå‘ä¼ æ’­æ—¶ä½¿ç”¨ã€‚åœ¨åå‘ä¼ æ’­ä¸­ï¼Œå®ƒæ ¹æ®ä¿å­˜çš„çŠ¶æ€å’Œæ¢¯åº¦ä¿¡æ¯ï¼Œé€å±‚è®¡ç®—æ¢¯åº¦å¹¶è¿›è¡Œç‰¹å¾åå‘èåˆã€‚

`Fusion`ç±»ç”¨äºå®ç°ç‰¹å¾èåˆæ“ä½œï¼Œå…·ä½“æ ¹æ®è¾“å…¥çš„å±‚çº§å’Œé€šé“æ•°è¿›è¡Œä¸Šä¸‹é‡‡æ ·ã€‚`Level`ç±»åˆ™å®šä¹‰äº†ç½‘ç»œçš„æ¯ä¸€å±‚ï¼ŒåŒ…æ‹¬èåˆæ“ä½œå’Œå·ç§¯å—ã€‚`SubNet`ç±»åˆ™æ˜¯ä¸€ä¸ªå­ç½‘ç»œï¼ŒåŒ…å«å¤šä¸ªå±‚çº§çš„èåˆå’Œå·ç§¯æ“ä½œï¼Œå¹¶ä¸”æ ¹æ®æ˜¯å¦éœ€è¦èŠ‚çœå†…å­˜é€‰æ‹©ä¸åŒçš„å‰å‘ä¼ æ’­æ–¹å¼ã€‚

æœ€åï¼Œ`RevCol`ç±»æ˜¯æ•´ä¸ªç½‘ç»œçš„ä¸»ä½“ï¼Œåˆå§‹åŒ–æ—¶è®¾ç½®äº†å¤šä¸ªå­ç½‘ç»œï¼Œå¹¶å®šä¹‰äº†è¾“å…¥çš„å·ç§¯å±‚ã€‚å…¶å‰å‘ä¼ æ’­æ–¹æ³•ä¾æ¬¡è°ƒç”¨æ¯ä¸ªå­ç½‘ç»œï¼Œå®Œæˆç‰¹å¾çš„æå–å’Œèåˆã€‚

æ€»ä½“æ¥è¯´ï¼Œè¿™ä¸ªæ–‡ä»¶å®ç°äº†ä¸€ä¸ªå¤æ‚çš„ç¥ç»ç½‘ç»œç»“æ„ï¼Œæ”¯æŒé«˜æ•ˆçš„ç‰¹å¾èåˆå’Œåå‘ä¼ æ’­ï¼Œé€‚ç”¨äºYOLOv8çš„æ”¹è¿›ç‰ˆæœ¬ã€‚é€šè¿‡è‡ªå®šä¹‰çš„åå‘ä¼ æ’­æœºåˆ¶ï¼Œå¯ä»¥åœ¨è®¡ç®—æ•ˆç‡å’Œå†…å­˜ä½¿ç”¨ä¸Šè¿›è¡Œä¼˜åŒ–ï¼Œé€‚åº”å¤§è§„æ¨¡æ•°æ®å¤„ç†çš„éœ€æ±‚ã€‚

#### 11.6 70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\models\yolo\classify\val.py

ä»¥ä¸‹æ˜¯ç»è¿‡ç®€åŒ–å’Œæ³¨é‡Šçš„æ ¸å¿ƒä»£ç éƒ¨åˆ†ï¼š

```python
import torch
from ultralytics.data import ClassificationDataset, build_dataloader
from ultralytics.engine.validator import BaseValidator
from ultralytics.utils.metrics import ClassifyMetrics, ConfusionMatrix
from ultralytics.utils.plotting import plot_images

class ClassificationValidator(BaseValidator):
    """
    è¯¥ç±»æ‰©å±•äº†BaseValidatorç±»ï¼Œç”¨äºåŸºäºåˆ†ç±»æ¨¡å‹çš„éªŒè¯ã€‚
    """

    def __init__(self, dataloader=None, save_dir=None, pbar=None, args=None, _callbacks=None):
        """åˆå§‹åŒ–ClassificationValidatorå®ä¾‹ï¼Œè®¾ç½®æ•°æ®åŠ è½½å™¨ã€ä¿å­˜ç›®å½•ã€è¿›åº¦æ¡å’Œå‚æ•°ã€‚"""
        super().__init__(dataloader, save_dir, pbar, args, _callbacks)
        self.targets = None  # çœŸå®æ ‡ç­¾
        self.pred = None     # é¢„æµ‹ç»“æœ
        self.args.task = 'classify'  # è®¾ç½®ä»»åŠ¡ç±»å‹ä¸ºåˆ†ç±»
        self.metrics = ClassifyMetrics()  # åˆå§‹åŒ–åˆ†ç±»æŒ‡æ ‡

    def init_metrics(self, model):
        """åˆå§‹åŒ–æ··æ·†çŸ©é˜µã€ç±»åä»¥åŠtop-1å’Œtop-5å‡†ç¡®ç‡ã€‚"""
        self.names = model.names  # è·å–æ¨¡å‹çš„ç±»å
        self.nc = len(model.names)  # ç±»åˆ«æ•°é‡
        self.confusion_matrix = ConfusionMatrix(nc=self.nc, conf=self.args.conf, task='classify')  # åˆå§‹åŒ–æ··æ·†çŸ©é˜µ
        self.pred = []  # å­˜å‚¨é¢„æµ‹ç»“æœ
        self.targets = []  # å­˜å‚¨çœŸå®æ ‡ç­¾

    def preprocess(self, batch):
        """é¢„å¤„ç†è¾“å…¥æ‰¹æ¬¡å¹¶è¿”å›å¤„ç†åçš„æ•°æ®ã€‚"""
        batch['img'] = batch['img'].to(self.device, non_blocking=True)  # å°†å›¾åƒç§»åŠ¨åˆ°è®¾å¤‡ä¸Š
        batch['img'] = batch['img'].half() if self.args.half else batch['img'].float()  # æ ¹æ®å‚æ•°é€‰æ‹©æ•°æ®ç±»å‹
        batch['cls'] = batch['cls'].to(self.device)  # å°†æ ‡ç­¾ç§»åŠ¨åˆ°è®¾å¤‡ä¸Š
        return batch

    def update_metrics(self, preds, batch):
        """ä½¿ç”¨æ¨¡å‹é¢„æµ‹å’Œæ‰¹æ¬¡ç›®æ ‡æ›´æ–°è¿è¡ŒæŒ‡æ ‡ã€‚"""
        n5 = min(len(self.names), 5)  # å–å‰5ä¸ªé¢„æµ‹ç»“æœ
        self.pred.append(preds.argsort(1, descending=True)[:, :n5])  # æŒ‰ç…§é¢„æµ‹å¾—åˆ†æ’åºå¹¶å–å‰n5
        self.targets.append(batch['cls'])  # å­˜å‚¨çœŸå®æ ‡ç­¾

    def finalize_metrics(self, *args, **kwargs):
        """æœ€ç»ˆåŒ–æ¨¡å‹çš„æŒ‡æ ‡ï¼Œå¦‚æ··æ·†çŸ©é˜µå’Œé€Ÿåº¦ã€‚"""
        self.confusion_matrix.process_cls_preds(self.pred, self.targets)  # å¤„ç†é¢„æµ‹ç»“æœå’ŒçœŸå®æ ‡ç­¾
        self.metrics.speed = self.speed  # è®°å½•é€Ÿåº¦
        self.metrics.confusion_matrix = self.confusion_matrix  # ä¿å­˜æ··æ·†çŸ©é˜µ

    def get_stats(self):
        """è¿”å›é€šè¿‡å¤„ç†ç›®æ ‡å’Œé¢„æµ‹è·å¾—çš„æŒ‡æ ‡å­—å…¸ã€‚"""
        self.metrics.process(self.targets, self.pred)  # å¤„ç†çœŸå®æ ‡ç­¾å’Œé¢„æµ‹ç»“æœ
        return self.metrics.results_dict  # è¿”å›ç»“æœå­—å…¸

    def build_dataset(self, img_path):
        """ä½¿ç”¨ç»™å®šçš„å›¾åƒè·¯å¾„å’Œé¢„å¤„ç†å‚æ•°åˆ›å»ºå¹¶è¿”å›ClassificationDatasetå®ä¾‹ã€‚"""
        return ClassificationDataset(root=img_path, args=self.args, augment=False, prefix=self.args.split)

    def get_dataloader(self, dataset_path, batch_size):
        """æ„å»ºå¹¶è¿”å›åˆ†ç±»ä»»åŠ¡çš„æ•°æ®åŠ è½½å™¨ã€‚"""
        dataset = self.build_dataset(dataset_path)  # åˆ›å»ºæ•°æ®é›†
        return build_dataloader(dataset, batch_size, self.args.workers, rank=-1)  # è¿”å›æ•°æ®åŠ è½½å™¨

    def print_results(self):
        """æ‰“å°YOLOå¯¹è±¡æ£€æµ‹æ¨¡å‹çš„è¯„ä¼°æŒ‡æ ‡ã€‚"""
        pf = '%22s' + '%11.3g' * len(self.metrics.keys)  # æ‰“å°æ ¼å¼
        LOGGER.info(pf % ('all', self.metrics.top1, self.metrics.top5))  # æ‰“å°top-1å’Œtop-5å‡†ç¡®ç‡

    def plot_val_samples(self, batch, ni):
        """ç»˜åˆ¶éªŒè¯å›¾åƒæ ·æœ¬ã€‚"""
        plot_images(
            images=batch['img'],
            batch_idx=torch.arange(len(batch['img'])),
            cls=batch['cls'].view(-1),  # ä½¿ç”¨.view()è€Œä¸æ˜¯.squeeze()ä»¥é€‚åº”åˆ†ç±»æ¨¡å‹
            fname=self.save_dir / f'val_batch{ni}_labels.jpg',
            names=self.names
        )

    def plot_predictions(self, batch, preds, ni):
        """åœ¨è¾“å…¥å›¾åƒä¸Šç»˜åˆ¶é¢„æµ‹ç»“æœå¹¶ä¿å­˜ç»“æœã€‚"""
        plot_images(batch['img'],
                    batch_idx=torch.arange(len(batch['img'])),
                    cls=torch.argmax(preds, dim=1),  # è·å–é¢„æµ‹çš„ç±»åˆ«
                    fname=self.save_dir / f'val_batch{ni}_pred.jpg',
                    names=self.names)
```

### ä»£ç æ ¸å¿ƒéƒ¨åˆ†è¯´æ˜ï¼š
1. **ç±»çš„å®šä¹‰**ï¼š`ClassificationValidator`ç±»ç”¨äºå¤„ç†åˆ†ç±»æ¨¡å‹çš„éªŒè¯ï¼Œç»§æ‰¿è‡ª`BaseValidator`ã€‚
2. **åˆå§‹åŒ–æ–¹æ³•**ï¼šè®¾ç½®å¿…è¦çš„å‚æ•°å’ŒæŒ‡æ ‡ï¼Œå‡†å¤‡è¿›è¡Œæ¨¡å‹éªŒè¯ã€‚
3. **æŒ‡æ ‡åˆå§‹åŒ–**ï¼šåˆå§‹åŒ–æ··æ·†çŸ©é˜µå’Œç±»åˆ«ä¿¡æ¯ï¼Œä»¥ä¾¿åç»­çš„æ€§èƒ½è¯„ä¼°ã€‚
4. **æ•°æ®é¢„å¤„ç†**ï¼šå°†è¾“å…¥æ•°æ®è½¬ç§»åˆ°æŒ‡å®šè®¾å¤‡ï¼Œå¹¶æ ¹æ®éœ€è¦è½¬æ¢æ•°æ®ç±»å‹ã€‚
5. **æ›´æ–°æŒ‡æ ‡**ï¼šæ ¹æ®æ¨¡å‹çš„é¢„æµ‹ç»“æœå’ŒçœŸå®æ ‡ç­¾æ›´æ–°æŒ‡æ ‡ã€‚
6. **æœ€ç»ˆåŒ–æŒ‡æ ‡**ï¼šå¤„ç†å®Œæ‰€æœ‰æ•°æ®åï¼Œè®¡ç®—å¹¶ä¿å­˜æœ€ç»ˆçš„æŒ‡æ ‡ç»“æœã€‚
7. **æ„å»ºæ•°æ®é›†å’Œæ•°æ®åŠ è½½å™¨**ï¼šæ ¹æ®ç»™å®šè·¯å¾„åˆ›å»ºæ•°æ®é›†ï¼Œå¹¶è¿”å›æ•°æ®åŠ è½½å™¨ä»¥ä¾¿äºæ‰¹é‡å¤„ç†æ•°æ®ã€‚
8. **ç»“æœæ‰“å°å’Œç»˜å›¾**ï¼šæ‰“å°æ¨¡å‹çš„è¯„ä¼°ç»“æœï¼Œå¹¶å¯è§†åŒ–éªŒè¯æ ·æœ¬å’Œé¢„æµ‹ç»“æœã€‚

è¯¥ç¨‹åºæ–‡ä»¶æ˜¯ç”¨äºYOLOv8ç®—æ³•ä¸­åˆ†ç±»æ¨¡å‹éªŒè¯çš„å®ç°ï¼Œä¸»è¦åŠŸèƒ½æ˜¯å¯¹åˆ†ç±»æ¨¡å‹è¿›è¡ŒéªŒè¯å’Œè¯„ä¼°ã€‚æ–‡ä»¶ä¸­é¦–å…ˆå¯¼å…¥äº†å¿…è¦çš„åº“å’Œæ¨¡å—ï¼ŒåŒ…æ‹¬PyTorchå’ŒUltralyticsåº“ä¸­çš„ç›¸å…³ç»„ä»¶ã€‚

åœ¨ç¨‹åºä¸­å®šä¹‰äº†ä¸€ä¸ªåä¸º`ClassificationValidator`çš„ç±»ï¼Œå®ƒç»§æ‰¿è‡ª`BaseValidator`ç±»ã€‚è¿™ä¸ªç±»ä¸“é—¨ç”¨äºåŸºäºåˆ†ç±»æ¨¡å‹çš„éªŒè¯ã€‚ç±»çš„æ„é€ å‡½æ•°åˆå§‹åŒ–äº†ä¸€äº›å‚æ•°ï¼ŒåŒ…æ‹¬æ•°æ®åŠ è½½å™¨ã€ä¿å­˜ç›®å½•ã€è¿›åº¦æ¡å’Œå…¶ä»–å‚æ•°ã€‚å®ƒè¿˜å®šä¹‰äº†ä¸€ä¸ªä»»åŠ¡ç±»å‹ä¸ºâ€œclassifyâ€ï¼Œå¹¶åˆå§‹åŒ–äº†åˆ†ç±»æŒ‡æ ‡çš„å¯¹è±¡ã€‚

`get_desc`æ–¹æ³•è¿”å›ä¸€ä¸ªæ ¼å¼åŒ–çš„å­—ç¬¦ä¸²ï¼Œç”¨äºæ€»ç»“åˆ†ç±»æŒ‡æ ‡ï¼ŒåŒ…æ‹¬ç±»åˆ«åç§°ã€Top-1å‡†ç¡®ç‡å’ŒTop-5å‡†ç¡®ç‡ã€‚`init_metrics`æ–¹æ³•ç”¨äºåˆå§‹åŒ–æ··æ·†çŸ©é˜µã€ç±»åˆ«åç§°ä»¥åŠTop-1å’ŒTop-5çš„å‡†ç¡®ç‡ã€‚

`preprocess`æ–¹æ³•å¯¹è¾“å…¥çš„æ‰¹æ¬¡æ•°æ®è¿›è¡Œé¢„å¤„ç†ï¼Œå°†å›¾åƒå’Œç±»åˆ«æ ‡ç­¾è½¬ç§»åˆ°æŒ‡å®šçš„è®¾å¤‡ä¸Šï¼Œå¹¶æ ¹æ®éœ€è¦è½¬æ¢æ•°æ®ç±»å‹ã€‚`update_metrics`æ–¹æ³•åˆ™ç”¨äºæ›´æ–°æ¨¡å‹é¢„æµ‹å’Œæ‰¹æ¬¡ç›®æ ‡çš„è¿è¡ŒæŒ‡æ ‡ï¼Œè®°å½•é¢„æµ‹ç»“æœå’ŒçœŸå®æ ‡ç­¾ã€‚

`finalize_metrics`æ–¹æ³•ç”¨äºæœ€ç»ˆåŒ–æ¨¡å‹çš„æŒ‡æ ‡ï¼ŒåŒ…æ‹¬å¤„ç†æ··æ·†çŸ©é˜µå’Œè®¡ç®—é€Ÿåº¦ã€‚å¦‚æœè®¾ç½®äº†ç»˜å›¾é€‰é¡¹ï¼Œè¿˜ä¼šç”Ÿæˆæ··æ·†çŸ©é˜µçš„å¯è§†åŒ–å›¾ã€‚`get_stats`æ–¹æ³•è¿”å›ä¸€ä¸ªå­—å…¸ï¼ŒåŒ…å«é€šè¿‡å¤„ç†ç›®æ ‡å’Œé¢„æµ‹ç»“æœå¾—åˆ°çš„æŒ‡æ ‡ã€‚

`build_dataset`æ–¹æ³•æ ¹æ®ç»™å®šçš„å›¾åƒè·¯å¾„å’Œé¢„å¤„ç†å‚æ•°åˆ›å»ºå¹¶è¿”å›ä¸€ä¸ª`ClassificationDataset`å®ä¾‹ã€‚`get_dataloader`æ–¹æ³•åˆ™ç”¨äºæ„å»ºå¹¶è¿”å›ä¸€ä¸ªæ•°æ®åŠ è½½å™¨ï¼Œä»¥ä¾¿äºåˆ†ç±»ä»»åŠ¡çš„å¤„ç†ã€‚

`print_results`æ–¹æ³•ç”¨äºæ‰“å°YOLOæ¨¡å‹çš„è¯„ä¼°æŒ‡æ ‡ï¼ŒåŒ…æ‹¬Top-1å’ŒTop-5å‡†ç¡®ç‡ã€‚`plot_val_samples`å’Œ`plot_predictions`æ–¹æ³•åˆ†åˆ«ç”¨äºç»˜åˆ¶éªŒè¯å›¾åƒæ ·æœ¬å’Œåœ¨è¾“å…¥å›¾åƒä¸Šç»˜åˆ¶é¢„æµ‹ç»“æœï¼Œå¹¶å°†ç»“æœä¿å­˜åˆ°æŒ‡å®šçš„ç›®å½•ä¸­ã€‚

æ•´ä½“æ¥çœ‹ï¼Œè¯¥æ–‡ä»¶æä¾›äº†ä¸€ä¸ªå®Œæ•´çš„åˆ†ç±»æ¨¡å‹éªŒè¯æ¡†æ¶ï¼Œèƒ½å¤Ÿå¤„ç†æ•°æ®åŠ è½½ã€æ¨¡å‹è¯„ä¼°ã€æŒ‡æ ‡è®¡ç®—å’Œç»“æœå¯è§†åŒ–ç­‰ä»»åŠ¡ï¼Œé€‚ç”¨äºYOLOv8ç®—æ³•çš„åˆ†ç±»ä»»åŠ¡ã€‚

### 12.ç³»ç»Ÿæ•´ä½“ç»“æ„ï¼ˆèŠ‚é€‰ï¼‰

### æ•´ä½“åŠŸèƒ½å’Œæ„æ¶æ¦‚æ‹¬

è¯¥é¡¹ç›®æ˜¯ä¸€ä¸ªé’ˆå¯¹YOLOv8ç®—æ³•çš„å®ç°å’Œæ”¹è¿›ï¼Œä¸»è¦åŒ…æ‹¬ç›®æ ‡æ£€æµ‹ã€åˆ†ç±»å’Œåˆ†å‰²ç­‰åŠŸèƒ½ã€‚é¡¹ç›®çš„æ¶æ„è®¾è®¡åˆç†ï¼Œæ¨¡å—åŒ–ç¨‹åº¦é«˜ï¼Œä¾¿äºæ‰©å±•å’Œç»´æŠ¤ã€‚æ ¸å¿ƒåŠŸèƒ½åŒ…æ‹¬ï¼š

1. **å›è°ƒæœºåˆ¶**ï¼šæä¾›äº†çµæ´»çš„å›è°ƒå‡½æ•°ï¼Œæ”¯æŒåœ¨è®­ç»ƒã€éªŒè¯å’Œæ¨ç†è¿‡ç¨‹ä¸­æ’å…¥è‡ªå®šä¹‰æ“ä½œã€‚
2. **æ•°æ®å¢å¼º**ï¼šå®ç°äº†å¤šç§å›¾åƒå¢å¼ºæŠ€æœ¯ï¼Œä»¥æé«˜æ¨¡å‹çš„é²æ£’æ€§å’Œå‡†ç¡®æ€§ã€‚
3. **æ¨¡å‹é¢„æµ‹**ï¼šæä¾›äº†é’ˆå¯¹YOLO NASæ¨¡å‹çš„é¢„æµ‹åå¤„ç†åŠŸèƒ½ï¼ŒåŒ…æ‹¬éæå¤§å€¼æŠ‘åˆ¶å’Œè¾¹ç•Œæ¡†ç¼©æ”¾ã€‚
4. **ç‰¹å¾èåˆ**ï¼šå®ç°äº†åå‘ä¼ æ’­å’Œç‰¹å¾èåˆçš„ç½‘ç»œæ¨¡å—ï¼Œæ”¯æŒé«˜æ•ˆçš„ç‰¹å¾æå–ã€‚
5. **æ¨¡å‹éªŒè¯**ï¼šæä¾›äº†åˆ†ç±»æ¨¡å‹çš„éªŒè¯æ¡†æ¶ï¼ŒåŒ…æ‹¬æ•°æ®åŠ è½½ã€æŒ‡æ ‡è®¡ç®—å’Œç»“æœå¯è§†åŒ–ã€‚
6. **ç”¨æˆ·ç•Œé¢**ï¼šé€šè¿‡Streamlitæ¡†æ¶æä¾›äº†ç®€å•çš„ç”¨æˆ·ç•Œé¢ï¼Œæ–¹ä¾¿ç”¨æˆ·è¿è¡Œå’Œæµ‹è¯•æ¨¡å‹ã€‚

ä»¥ä¸‹æ˜¯å„ä¸ªæ–‡ä»¶çš„åŠŸèƒ½æ•´ç†è¡¨æ ¼ï¼š

| æ–‡ä»¶è·¯å¾„                                                                                                   | åŠŸèƒ½æè¿°                                                                                           |
|------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------|
| `ultralytics/utils/callbacks/base.py`                                                                     | å®šä¹‰äº†è®­ç»ƒã€éªŒè¯ã€é¢„æµ‹å’Œå¯¼å‡ºè¿‡ç¨‹ä¸­çš„å›è°ƒå‡½æ•°æ¡†æ¶ï¼Œæ”¯æŒç”¨æˆ·è‡ªå®šä¹‰æ“ä½œã€‚                             |
| `ultralytics/data/augment.py`                                                                             | å®ç°äº†å¤šç§å›¾åƒå¢å¼ºæŠ€æœ¯ï¼Œæ”¯æŒç›®æ ‡æ£€æµ‹å’Œåˆ†ç±»ä»»åŠ¡çš„æ•°æ®é¢„å¤„ç†ã€‚                                     |
| `ui.py`                                                                                                   | é€šè¿‡Streamlitæ¡†æ¶è¿è¡ŒæŒ‡å®šçš„è„šæœ¬ï¼Œæä¾›ç”¨æˆ·ç•Œé¢ä»¥ä¾¿äºæ¨¡å‹çš„æµ‹è¯•å’Œè¿è¡Œã€‚                             |
| `ultralytics/models/nas/predict.py`                                                                       | å®ç°YOLO NASæ¨¡å‹çš„é¢„æµ‹åå¤„ç†ï¼ŒåŒ…æ‹¬éæå¤§å€¼æŠ‘åˆ¶å’Œè¾¹ç•Œæ¡†ç¼©æ”¾ã€‚                                     |
| `ultralytics/nn/backbone/revcol.py`                                                                      | å®ç°åå‘ä¼ æ’­å’Œç‰¹å¾èåˆçš„ç¥ç»ç½‘ç»œæ¨¡å—ï¼Œæ”¯æŒé«˜æ•ˆçš„ç‰¹å¾æå–å’Œè®¡ç®—ã€‚                                 |
| `ultralytics/models/yolo/classify/val.py`                                                                | æä¾›åˆ†ç±»æ¨¡å‹çš„éªŒè¯æ¡†æ¶ï¼ŒåŒ…æ‹¬æ•°æ®åŠ è½½ã€æŒ‡æ ‡è®¡ç®—å’Œç»“æœå¯è§†åŒ–ã€‚                                     |
| `ultralytics/models/yolo/segment/val.py`                                                                  | ï¼ˆå‡è®¾çš„åŠŸèƒ½æè¿°ï¼‰å®ç°YOLOåˆ†å‰²æ¨¡å‹çš„éªŒè¯åŠŸèƒ½ï¼Œå¤„ç†åˆ†å‰²ä»»åŠ¡çš„è¯„ä¼°å’ŒæŒ‡æ ‡è®¡ç®—ã€‚                     |
| `ultralytics/utils/dist.py`                                                                                | ï¼ˆå‡è®¾çš„åŠŸèƒ½æè¿°ï¼‰æä¾›åˆ†å¸ƒå¼è®­ç»ƒçš„æ”¯æŒï¼Œå¤„ç†å¤šGPUç¯å¢ƒä¸‹çš„æ¨¡å‹è®­ç»ƒå’Œæ•°æ®åŒæ­¥ã€‚                   |
| `ultralytics/models/nas/model.py`                                                                         | ï¼ˆå‡è®¾çš„åŠŸèƒ½æè¿°ï¼‰å®šä¹‰YOLO NASæ¨¡å‹çš„ç»“æ„å’Œå‚æ•°ï¼Œè´Ÿè´£æ¨¡å‹çš„æ„å»ºå’Œåˆå§‹åŒ–ã€‚                         |
| `ultralytics/nn/extra_modules/dynamic_snake_conv.py`                                                    | ï¼ˆå‡è®¾çš„åŠŸèƒ½æè¿°ï¼‰å®ç°åŠ¨æ€è›‡å½¢å·ç§¯æ¨¡å—ï¼Œå¢å¼ºæ¨¡å‹çš„ç‰¹å¾æå–èƒ½åŠ›ã€‚                                 |
| `ultralytics/models/utils/loss.py`                                                                        | ï¼ˆå‡è®¾çš„åŠŸèƒ½æè¿°ï¼‰å®šä¹‰æŸå¤±å‡½æ•°ï¼Œç”¨äºè®­ç»ƒè¿‡ç¨‹ä¸­è®¡ç®—æ¨¡å‹çš„æŸå¤±å€¼ã€‚                                 |
| `train.py`                                                                                                 | ï¼ˆå‡è®¾çš„åŠŸèƒ½æè¿°ï¼‰ä¸»è®­ç»ƒè„šæœ¬ï¼Œè´Ÿè´£æ¨¡å‹çš„è®­ç»ƒè¿‡ç¨‹ï¼ŒåŒ…æ‹¬æ•°æ®åŠ è½½ã€æ¨¡å‹è®­ç»ƒå’ŒéªŒè¯ã€‚                 |
| `ultralytics/hub/session.py`                                                                               | ï¼ˆå‡è®¾çš„åŠŸèƒ½æè¿°ï¼‰ç®¡ç†æ¨¡å‹çš„ä¼šè¯å’ŒçŠ¶æ€ï¼Œæ”¯æŒæ¨¡å‹çš„åŠ è½½å’Œä¿å­˜ã€‚                                   |

è¯·æ³¨æ„ï¼ŒæŸäº›æ–‡ä»¶çš„å…·ä½“åŠŸèƒ½æè¿°æ˜¯åŸºäºæ¨æµ‹çš„ï¼Œå…·ä½“åŠŸèƒ½å¯èƒ½éœ€è¦æ ¹æ®å®é™…ä»£ç è¿›è¡Œç¡®è®¤ã€‚

æ³¨æ„ï¼šç”±äºæ­¤åšå®¢ç¼–è¾‘è¾ƒæ—©ï¼Œä¸Šé¢â€œ11.é¡¹ç›®æ ¸å¿ƒæºç è®²è§£ï¼ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒçœ‹ä¸æ‡‚ä»£ç é€»è¾‘ï¼‰â€ä¸­éƒ¨åˆ†ä»£ç å¯èƒ½ä¼šä¼˜åŒ–å‡çº§ï¼Œä»…ä¾›å‚è€ƒå­¦ä¹ ï¼Œå®Œæ•´â€œè®­ç»ƒæºç â€ã€â€œWebå‰ç«¯ç•Œé¢â€å’Œâ€œ70+ç§åˆ›æ–°ç‚¹æºç â€ä»¥â€œ13.å®Œæ•´è®­ç»ƒ+Webå‰ç«¯ç•Œé¢+70+ç§åˆ›æ–°ç‚¹æºç ã€æ•°æ®é›†è·å–â€çš„å†…å®¹ä¸ºå‡†ã€‚

### 13.å®Œæ•´è®­ç»ƒ+Webå‰ç«¯ç•Œé¢+70+ç§åˆ›æ–°ç‚¹æºç ã€æ•°æ®é›†è·å–

![19.png](19.png)


# [ä¸‹è½½é“¾æ¥ï¼šhttps://mbd.pub/o/bread/ZpuTmpps](https://mbd.pub/o/bread/ZpuTmpps)